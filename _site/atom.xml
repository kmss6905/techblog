<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>ê¹€ë¯¼ì‹ ê¸°ìˆ ë¸”ë¡œê·¸</title>
 <link href="http://localhost:4000/atom.xml" rel="self"/>
 <link href="http://localhost:4000/"/>
 <updated>2025-07-31T09:13:25+09:00</updated>
 <id>http://localhost:4000</id>
 <author>
   <name>ê¹€ë¯¼ì‹</name>
   <email>minshik6905@gmail.com</email>
 </author>

 
 <entry>
   <title>ì£¼ë‹ˆì–´ ê°œë°œìê°€ ê°œë°œí•  ë•Œ ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ëŠ”ì§€ ê³ ë¯¼í•´ë³´ì</title>
   <link href="http://localhost:4000/2025/04/17/%EC%A3%BC%EB%8B%88%EC%96%B4-%EA%B0%9C%EB%B0%9C%EC%9E%90%EA%B0%80-%EA%B0%9C%EB%B0%9C%ED%95%A0-%EB%95%8C-%EB%8D%94-%EA%B0%9C%EC%84%A0%ED%95%A0-%EC%97%AC%EC%A7%80%EB%8A%94-%EC%97%86%EB%8A%94-%EC%A7%80-%EA%B3%A0%EB%AF%BC%ED%95%B4%EB%B3%B4%EC%84%B8%EC%9A%94"/>
   <updated>2025-04-17T00:00:00+09:00</updated>
   <id>http://localhost:4000/2025/04/17/ì£¼ë‹ˆì–´ ê°œë°œìê°€ ê°œë°œí•  ë•Œ ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ëŠ” ì§€ ê³ ë¯¼í•´ë³´ì„¸ìš”</id>
   <content type="html">&lt;h1 id=&quot;20250417---ì‰¬ìš´ì½”ë“œì£¼ë‹ˆì–´-ê°œë°œìê°€-ê°œë°œí• -ë•Œ-ë”-ê°œì„ í• -ì—¬ì§€ëŠ”-ì—†ëŠ”-ì§€-ê³ ë¯¼-í•´ë³´ì&quot;&gt;2025.04.17 - [ì‰¬ìš´ì½”ë“œ]ì£¼ë‹ˆì–´ ê°œë°œìê°€ ê°œë°œí•  ë•Œ ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ëŠ” ì§€ ê³ ë¯¼ í•´ë³´ì&lt;/h1&gt;

&lt;h2 id=&quot;ì˜ˆì œ-1-1ë¶€í„°-n-ê¹Œì§€ì˜-ì •ìˆ˜-í•©sumì„-êµ¬í•˜ëŠ”-í•¨ìˆ˜ë¥¼-ì‘ì„±&quot;&gt;ì˜ˆì œ 1. 1ë¶€í„° N ê¹Œì§€ì˜ ì •ìˆ˜ í•©(Sum)ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±&lt;/h2&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;intSum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ì„±ëŠ¥ í›¨ ì¢‹ë‹¤.&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;intSum3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intSum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_000_000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intSum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_000_000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;mi&quot;&gt;1784293664&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;363189984&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// long type ìœ¼ë¡œ ë°”ê¿”ë³´ì&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;intSum4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intSum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_000_000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;intSum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_000_000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;

&lt;span class=&quot;mi&quot;&gt;1784293664&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1784293664&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ì˜ˆì œ-2-ë°°ì¹˜ì‘ì—…&quot;&gt;ì˜ˆì œ 2. ë°°ì¹˜ì‘ì—…&lt;/h2&gt;

&lt;h4 id=&quot;ìƒí™©&quot;&gt;ìƒí™©&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;ì–´ë–¤ ê¸°ê¸°ê°€ 1ë¶„ ë§ˆë‹¤ ìŠ¤ìº”í•œ ë°ì´í„°ë¥¼ DBì— ì €ì¥í•˜ê³  ìˆëŠ” ìƒí™©&lt;/li&gt;
  &lt;li&gt;í•´ë‹¹ ê¸°ê¸°ê°€ 100ëŒ€ê°€ ìˆìŒ&lt;/li&gt;
  &lt;li&gt;ë°°ì¹˜ ì‘ì—… : ê²€ìˆ˜ë¥¼ ìœ„í•´ í•˜ë£¨ í•œë²ˆ 100ëŒ€ê°€ í•˜ë£¨ ë™ì•ˆ ìŠ¤ìº”í•œ ë°ì´í„°ë¥¼ ê°ê°ì˜ ì••ì¶• íŒŒì¼ë¡œ ë§Œë“¤ì–´ì„œ 3rd party API ë¥¼ í†µí•´ ì—…ë¡œë“œ&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h3 id=&quot;ìƒê°-1-&quot;&gt;ìƒê° 1. ğŸ¤”&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;ìµœì´ˆì— ë°°ì¹˜ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œë¡œ êµ¬í˜„ : ì´ 7ì‹œê°„ ì •ë„ ì†Œìš”&lt;/li&gt;
  &lt;li&gt;ì´ê±¸ ìŠ¤ë ˆë“œ 10ê°œë¡œ ì¦ê°€ : ì´ 3ì‹œê°„ ì •ë„ë¡œ ì‹œê°„ ë‹¨ì¶•&lt;/li&gt;
  &lt;li&gt;í•˜ì§€ë§Œ ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ì„ê¹Œ??&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;
&lt;h3 id=&quot;ìƒê°-2-&quot;&gt;ìƒê° 2. ğŸ¤”&lt;/h3&gt;
&lt;p&gt;ì™œ ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ &lt;em&gt;ì—´ê°œ&lt;/em&gt; ë¡œ ì¡ì•˜ëŠ”ê°€ ?? ì¼ë‹¨ í•œë²ˆ íŠ¸ë¼ì´??&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë¥¼ ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ë¶„ì„í•´ë³´ì
    &lt;ol&gt;
      &lt;li&gt;ê¸°ê¸° í•œ ëŒ€ê°€ í•˜ë£¨ ë™ì•ˆ ìŠ¤ìº”í•œ ë°ì´í„°ë¥¼ ì••ì¶•&lt;/li&gt;
      &lt;li&gt;ì••ì¶• íŒŒì¼ì„ ê²€ìˆ˜ APIì— ì—…ë¡œë“œ&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;1ë²ˆì˜ ê²½ìš° CPU bound, ì†Œìš” ì‹œê°„ì€ ì•½ 4ë¶„
2ë²ˆì˜ ê²½ìš° I/O bound, ì†Œìš” ì‹œê°„ ì•½ 1ë¶„&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;I/O bound ì¼ ë•ŒëŠ” ìŠ¤ë ˆë“œê°€ ì ë‹¹íˆ ë§ìœ¼ë©´ ì˜¤íˆë ¤ ë³‘ë ¬ì„±ì— ì¢‹ìŒ
CPU bound ì¼ ë•ŒëŠ” ìŠ¤ë ˆë“œê°€ ë§ìœ¼ë©´ ?? ì„œë²„ core ìˆ˜!&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;CPU bound â†’ ì†Œìš”ì‹œê°„ ì•½ 4ë¶„
    &lt;ol&gt;
      &lt;li&gt;CPU Bound ì¼ ë•ŒëŠ” ìŠ¤ë ˆë“œê°€ ë§ìœ¼ë©´?
        &lt;ol&gt;
          &lt;li&gt;ì„œë²„ Core ìˆ˜&lt;/li&gt;
          &lt;li&gt;ë°°ì¹˜ì„œë²„ëŠ” 2core
            &lt;ol&gt;
              &lt;li&gt;ì••ì¶•í•˜ëŠ” ë™ì•ˆì— ë‹¤ë¥¸ ê±° í•  ìˆ˜ ì—†ë‹¤.&lt;/li&gt;
            &lt;/ol&gt;
          &lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;IO Bound â†’ ì†Œìš”ì‹œê°„ ì•½ 1ë¶„
    &lt;ol&gt;
      &lt;li&gt;IO ë°”ìš´ë“œì¼ ë•ŒëŠ” ìŠ¤ë ˆë“œê°€ ì ë‹¹íˆ ë§ìœ¼ë©´ ì˜¤íˆë ¤ ë³‘ë ¬ì„±ì— ì¢‹ë‹¤.&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;ul&gt;
  &lt;li&gt;ì™œ ìŠ¤ë ˆë“œ ê°œìˆ˜ë¥¼ ì—´ê°œë¡œ ì¡ì•˜ëŠ”ê°€???? â†’ ìŒ.. ì—´ê°œê°€ ìµœì„ ì˜ ì„ íƒì€ ì•„ë‹ ìˆ˜ ìˆë‹¤! ë” ë‚˜ì€ ìŠ¤ë ˆë“œ ê°œìˆ˜ê°€ ìˆì„ ìˆ˜ ìˆìŒ!, ë‹¤ì„¯ê°œë¡œ ì¡°ì •í•´ë³¼ê¹Œ?&lt;/li&gt;
  &lt;li&gt;ìµœì ì˜ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ì°¾ëŠ” ê²Œ ë² ìŠ¤íŠ¸ì¼ê¹Œ? ì˜¤ë²„ ì—”ì§€ë‹ˆì–´ë§ ì•„ë‹ê¹Œ??
    &lt;ul&gt;
      &lt;li&gt;ê¸°ê¸° 100ê°œ ì´ì§€ë§Œ, ë” ëŠ˜ì–´ë‚  ìˆ˜ë„ ìˆê³ &lt;/li&gt;
      &lt;li&gt;ì„¼ì‹±í•˜ëŠ” ë°ì´í„°ê°€ 1ë¶„ë§ˆë‹¤ê°€ ì•„ë‹ˆë¼ ë” ëŠ˜ì–´ë‚  ìˆ˜ë„ ìˆê³ ? â€¦&lt;/li&gt;
      &lt;li&gt;ìŒ.. ê·¸ëŸ¬ë©´ ì•ìœ¼ë¡œ ìŠ¤ë ˆë“œ ìˆ˜ ì°¾ëŠ” ê²Œ ê°€ë³€ ì ì¼ ê±´ë° ì´ê²Œ ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ ì•„ë‹ê¹Œ?&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ê´€ì ì˜ ì¬ì ê²€!! : ìŠ¤ë ˆë“œ ìˆ˜ ì¡°ì • ì™¸ì— ë‹¤ë¥¸ ì ‘ê·¼ ì€ ì—†ì„ê¹Œ?(ë‚´ê°€ ìŠ¤ë ˆë“œì—ë§Œ ëª°ì… í•œ ê²ƒì´ ì•„ë‹ê¹Œ?)
    &lt;ul&gt;
      &lt;li&gt;scale up! core ìˆ˜ ì¦ê°€!&lt;/li&gt;
      &lt;li&gt;scale out! ë” ë§ì€ ì„œë²„ ì‚¬ìš©!!&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì´ê²Œ ìµœì„ ì¼ê¹Œ? í˜„ì¬ ì„œë²„ ìŠ¤í™ì—ì„œ ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ì„ê¹Œ?
    &lt;ol&gt;
      &lt;li&gt;ê¸°ê¸° í•œëŒ€ê°€ í•˜ë£¨ ë™ì•ˆ ìŠ¤ìº”í•œ ë°ì´í„°ë¥¼ ì••ì¶• : CPU bound, ì•½ 4ë¶„ ì†Œìš”&lt;/li&gt;
      &lt;li&gt;ì••ì¶• íŒŒì¼ì„ ê²€ìˆ˜ API ì— ì—…ë¡œë“œ : I/O bound, ì•½ 1ë¶„ì†Œìš”&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‡’ ê¸°ê¸° 100ëŒ€ì— ëŒ€í•´ì„œ 1ë²ˆ ì‘ì—…ë¶€í„° ë¨¼ì € ë‹¤í•˜ê³  ì´ì–´ì„œ 2ë²ˆ ì‘ì—…ì„ í•œë²ˆì— í•˜ë©´ ì–´ë–¨ê¹Œ?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1ë²ˆ ì‘ì—…í•  ë•ŒëŠ” 2~3ê°œ ìŠ¤ë ˆë“œ&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;2ë²ˆ ì‘ì—… ë•Œ ë¹„ë™ê¸° í˜¸ì¶œ(WebClient, etcâ€¦)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;ì´ê²Œ ìµœì„ ì¼ ê¹Œ? ë” ê°œì„ í•  ì—¬ì§€ëŠ” ì—†ì„ê¹Œ? (ì¶”ê°€ë¡œ ê³ ë ¤í•´ë³¼ ë§Œí•œ ë‚´ìš©)
    &lt;ul&gt;
      &lt;li&gt;ê²€ìˆ˜ APIì— ë¶€í•˜ë¥¼ ì£¼ì§„ ì•Šì„ê¹Œ? (ë™ì‹œì— ëª‡ê°œì˜ íŒŒì¼ì„ ì—…ë¡œë“œ í•  ì§€ ê³ ë ¤)&lt;/li&gt;
      &lt;li&gt;DBì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¬ ë•Œ í•˜ë£¨ì¹˜ ìŠ¤ìº” ë°ì´í„°ë¥¼ í•œë²ˆì— ë‹¤ ì½ì–´ë³´ë©´ ì„œë²„ ë©”ëª¨ë¦¬ëŠ” ê´œì°®ì„ê¹Œ?
        &lt;ul&gt;
          &lt;li&gt;1ê¸°ê°€ DBì— ìˆë‹¤ê³  ê°€ì • â†’ 1ê¸°ê°€ ì „ë¶€ë¥¼ ë°°ì¹˜ ì–´í”Œì— ì˜¬ë ¤ë‘”ë‹¤? â†’ ì´ê±´ ë©”ëª¨ë¦¬ì— ë¶€ë‹´ì´ë‹¤.
            &lt;ul&gt;
              &lt;li&gt;ê·¸ëŸ¬ë©´ í•œë²ˆì— ì½ì§€ ë§ê³ , ìŠ¤íŠ¸ë¦¼ ë°©ì‹ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ íŒŒì¼ì„ ë–¨êµ¬ëŠ” ê±´ ì–´ë–¨ê¹Œ?&lt;/li&gt;
              &lt;li&gt;ìŠ¤íŠ¸ë¦¼ ë°©ì‹ìœ¼ë¡œ ì••ì¶• íŒŒì¼ ìƒì„± ë°©ë²• ê²€ìƒ‰
                &lt;ul&gt;
                  &lt;li&gt;etc) ì••ì¶•ì•Œê³ ë¦¬ì¦˜ì€ ë˜ ì–´ë–¤ê²Œ ìˆì§€? (ê²€ìˆ˜ API ìª½ì—ì„œ í—ˆìš©ë˜ëŠ” ì••ì¶•í¬ë§·ë„ í™•ì¸í•´ë´ì•¼í•˜ëŠ” ë¶€ë¶„ì´ê³ â€¦)&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ì˜ˆì œ-3-ìºì‹±caching&quot;&gt;ì˜ˆì œ 3. ìºì‹±(Caching)&lt;/h2&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Cache&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CachedProduct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productCache&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Caffeine&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;CachedProduct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productCache&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getIfPresent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;productId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;product&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usdToWonRate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë‹¬ëŸ¬ë¡œ ë°”ê¿ˆ &amp;lt;- ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ë‹¬ëŸ¬ë¡œ ë°”ê¾¸ëŠ” ê³¼ì •ì€ ìºì‹œëœ ë°ì´í„° ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°”ê¾¸ê³  ìˆë‹¤.!! í™ ë©”ëª¨ë¦¬ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê¸° ë–„ë¬¸&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ì™„ì „ë§í•œë‹¤. 10000 ì›í™”ê°€ -&amp;gt; 5ë‹¬ëŸ¬ë¡œ ê·¸ëŒ€ë¡œ ë°”ë€ì±„ë¡œ ê³„ì† !&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;CachedProduct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìŒ.. ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ ê°œì„ í•  ìˆ˜ ìˆì„ê¹Œ?&lt;/p&gt;

&lt;p&gt;price ë¥¼ ë°”ê¿€ ìˆ˜ ìˆì–´ì„œ ê·¸ëŸ°ê±°ë¼ê³  ìƒê°í•´ì„œ final ì„ ë¶™ì´ëŠ” ê²Œ ìµœì„ ì¼ê¹Œ ? ê²°êµ­ cached ëœ ê²ƒë“¤ì€ ê°’ì„ ë°”ê¾¸ë©´ ì•ˆë˜ëŠ” ê±´ê°€? â†’ ë¶ˆë³€ê°ì²´ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.?&lt;/p&gt;

&lt;p&gt;ë‚´ê°€ ì €ì¥í•˜ëŠ” ë°ì´í„°ë¥¼ ìºì‹±, ì°¸ì¡°ë ê±°ê³ , ë§˜ëŒ€ë¡œ ë°”ê¾¸ë©´ ìœ„í—˜í•  ë“¯&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CachedProduct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;CachedProduct&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;modelName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CachedProduct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;CachedProduct ì˜ íƒ€ì…ì´ primitive type ì´ ì•„ë‹Œ List ê°€ ì¶”ê°€ ëœë‹¤ë©´?? ì–´ë–»ê²Œ ë ê¹Œ?  List ë¥¼ ë¶ˆë³€ê°ì²´ ?&lt;/p&gt;

&lt;p&gt;List&lt;Seller&gt; â€¦&lt;/Seller&gt;&lt;/p&gt;

&lt;p&gt;ê·¸ ì™¸ ìƒê°í•´ë³¼ ê²ƒ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ìš°ë¦¬ ì‚¬ì´íŠ¸ì—ì„œ ë¬¼í’ˆì„ ì›í™”(KRW)ë¡œë§Œ íŒë§¤í•˜ë‹¤ê°€ , ë‹¬ëŸ¬ (USD)ë¡œë„ íŒë§¤í•  ì˜ˆì •ì´ë‹¤.
    &lt;ul&gt;
      &lt;li&gt;ë°±ì—”ë“œ í”„ë¡ íŠ¸ ê°ê° ì½”ë“œë¥¼ ì¡°ê¸ˆì”© ê³ ì¹˜ë©´ ë‹¬ëŸ¬ë¡œë„ íŒë§¤í•˜ê²Œ ë” ë§Œë“¤ ìˆ˜ ìˆë‹¤.
        &lt;ul&gt;
          &lt;li&gt;ìŒ ì´ê²Œ ìµœì„ ì¼ê¹Œ?&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;ê·¸ëŸ°ë° ì•ìœ¼ë¡œ ì¼ë³¸ê³¼ ë™ë‚¨ì•„ ìª½ë„ ê³µëµ ì˜ˆì •ì´ë¼ê³  í•œë‹¤.&lt;/li&gt;
      &lt;li&gt;ì—”í™” ë“± ì¶”ê°€ì ì¸ í†µí™” (currency) ì§€ì›ì´ í•„ìš”í•  ìˆ˜ ìˆë‹¤.&lt;/li&gt;
      &lt;li&gt;ì´ ìƒí™©ì—ì„œ ì–´ë–¤ ê²ƒì´ ìµœì„ ì¼ê¹Œ?
        &lt;ul&gt;
          &lt;li&gt;ë§¤ë²ˆ í†µí™”ê°€ ì¶”ê°€ë ë•Œ ë§ˆë‹¤ ë°±ì—”ë“œ í”„ë¡ íŠ¸ ì½”ë“œë¥¼ ì¡°ê¸ˆ ì”© ê³ ì¹˜ëŠ” ê²Œ ë‚˜ì„ê¹Œ?&lt;/li&gt;
          &lt;li&gt;ì•„ë‹ˆë©´ ì–´ë“œë¯¼ í˜ì´ì§€ì—ì„œ ë”¸ê¹ í•œë²ˆì´ë©´ í†µí™” ì¶”ê°€ê°€ ììœ ë¡­ê²Œ ì¶”ê°€ ì‚­ì œ ë˜ëŠ” ê²Œ ì¢‹ì„ê¹Œ?&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ì •ë¦¬--ì´ê²Œ-ìµœì„ ì¼ê¹Œ-ê³ ë¯¼í•˜ëŠ”-ìŠµê´€&quot;&gt;ì •ë¦¬ : ì´ê²Œ ìµœì„ ì¼ê¹Œ? ê³ ë¯¼í•˜ëŠ” ìŠµê´€&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;ì„±ëŠ¥ í˜¹ì€ ì•ˆì „ì„±ì˜ ê´€ì ì—ì„œ ëŠ˜ ê³ ë¯¼&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ë¦¬ì†ŒìŠ¤ëŠ” ì–¸ì œë‚˜ í•œì •ë˜ì–´ ìˆë‹¤.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ëª…í™•í•œ ê·¼ê±°ë¥¼ ì¶”êµ¬í•˜ê³  ìˆëŠ”ê°€ ? (ë‹¨, ë„ˆë¬´ ì§‘ì°©, ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì€ ê²½ê³„í•  ê²ƒ)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ë°”ë¼ë³´ëŠ” ê´€ì ì„ ë‹¤ì–‘í™” í•˜ê¸°(ë‚´ê°€ ë„ˆë¬´ ìŠ¤ë ˆë“œ ê°œìˆ˜ë¡œë§Œ ì§‘ì°©í•˜ì§€ ì•Šì•˜ëŠ” ê°€? .., db? redis ? ë°©ë²•ë¡  ì¸¡ë©´ì—ì„œ ?! )&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;ë” í¸í•  ìˆœ ì—†ëŠ”ê°€?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â€¦&lt;/p&gt;

&lt;h3 id=&quot;ì¶œì²˜&quot;&gt;ì¶œì²˜&lt;/h3&gt;

&lt;hr /&gt;
&lt;p&gt;https://www.youtube.com/watch?v=ZWWUSN13Wzw&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ëª¨ë“  ê²ƒì„ ì˜ì‹¬í•˜ì, ì‚½ì§ˆ ì´í›„... (feat. ë¶€í•˜í…ŒìŠ¤íŠ¸ íˆ´)</title>
   <link href="http://localhost:4000/2024/11/15/%EB%AA%A8%EB%93%A0-%EA%B2%83%EC%9D%84-%EC%9D%98%EC%8B%AC%ED%95%98%EC%9E%90-%EC%82%BD%EC%A7%88%EC%9D%B4%ED%9B%84-feat-%EB%B6%80%ED%95%98%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%88%B4"/>
   <updated>2024-11-15T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/11/15/ëª¨ë“  ê²ƒì„ ì˜ì‹¬í•˜ì. ì‚½ì§ˆì´í›„.. (feat. ë¶€í•˜í…ŒìŠ¤íŠ¸ íˆ´)</id>
   <content type="html">&lt;h1 id=&quot;20241115---ëª¨ë“ -ê²ƒì„-ì˜ì‹¬í•˜ì-ì‚½ì§ˆì´í›„-feat-ë¶€í•˜í…ŒìŠ¤íŠ¸-íˆ´&quot;&gt;2024.11.15 - ëª¨ë“  ê²ƒì„ ì˜ì‹¬í•˜ì. ì‚½ì§ˆì´í›„.. (feat. ë¶€í•˜í…ŒìŠ¤íŠ¸ íˆ´)&lt;/h1&gt;

&lt;p&gt;ë‚˜ëŠ” ë™ì‹œì„± í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•´ NGrinder ì™€ Apache Bench ë¥¼ ì‚¬ìš©í–ˆë‹¤. ëŒ€ëµì ì¸ ê³„íšì€ ì´ëŸ¬í•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;ì¿ í° ë°œê¸‰ì´ë¼ê³  ì˜ˆì‹œë¥¼ ë“¤ë©´&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;ìˆ˜ëŸ‰ì´ 1ì–µê°œì¸ ì¿ í°ì´ ìˆë‹¤ê³  ê°€ì •í•˜ê³ , 1000ëª…, 10000ëª… ë™ì‹œì— ì¿ í° ë°œê¸‰ ìš”ì²­ì„ í–ˆì„ ë•Œ ì •í™•íˆ ìœ ì €ì˜ ìš”ì²­ ìˆ˜ ë§Œí¼ ì¿ í°ì´ ë°œê¸‰ë˜ì—ˆëŠ” ì§€ë¥¼ í™•ì¸í•œë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ë¬¸ì œëŠ” ì‹¤ì œ ì‹œê°„ì„ ë‘ê³  ê³„ì†í•´ì„œ ë¶€í•˜ë¥¼ ì¤¬ì„ ë•Œ(NGrinder ì˜ ê²½ìš° 3ë¶„ë™ì•ˆ ë¶€í•˜í…ŒìŠ¤íŠ¸ ì‹œí–‰) ì‹¤ì œ ì´ ì‹¤í–‰ í…ŒìŠ¤íŠ¸ë¥¼ í–ˆì„ ê²½ìš°ì´ë‹¤.
ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì—ì„œëŠ” ì´ ì‹¤í–‰í…ŒìŠ¤íŠ¸ê°€ &lt;strong&gt;22546&lt;/strong&gt; ê°œì˜ ìš”ì²­ì„ ë‚ ë¦° ê²ƒìœ¼ë¡œ ë‚˜ì™€ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ê·¸ë³´ë‹¤ ë§ì€ &lt;strong&gt;23120&lt;/strong&gt; ê°œì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¨ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ngrinder&quot;&gt;NGrinder&lt;/h3&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/ngrinder.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 1 - NGrinder í…ŒìŠ¤íŠ¸ ê²°ê³¼&lt;/em&gt;   
&lt;/p&gt;

&lt;h3 id=&quot;apache-bench&quot;&gt;Apache Bench&lt;/h3&gt;
&lt;p&gt;AB í…ŒìŠ¤íŠ¸ ì—­ì‹œ ë§ˆì°¬ê°€ì§€ ì˜€ë‹¤. ì‹¤ì œë¡œ -t ì˜µì…˜ì„ ì£¼ì§€ ì•Šì•˜ì„ ë•ŒëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•Šì•˜ì§€ë§Œ, -t ì˜µì…˜ì„ í†µí•´ ì‹œê°„ì„ ë‘ê³  ë¶€í•˜ í…ŒìŠ¤íŠ¸ë¥¼ í–ˆì„ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€ë¡œ ì‹¤ì œ ìš”ì²­ ìˆ˜ì™€ ì°¨ì´ê°€ ìˆì—ˆë‹¤&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/apache_bench_result.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 2 - Apache Bench í…ŒìŠ¤íŠ¸ ê²°ê³¼&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;AB í…ŒìŠ¤íŠ¸ ê²°ê³¼ì—ëŠ” 1084 ê°œì˜ ì™„ë£Œëœ ìš”ì²­ì´ ìˆë‹¤ê³  í–ˆì§€ë§Œ ì‹¤ì œë¡œëŠ” ê·¸ ë³´ë‹¤ 9ê°œ ë§ì€ &lt;strong&gt;1093&lt;/strong&gt; ê°œì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¨ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/count_result.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 3 - ì‹¤ì œ app ë‚´ì—ì„œ ì¸¡ì •í•œ ìš”ì²­ ì¹´ìš´íŠ¸&lt;/em&gt;   
&lt;/p&gt;

&lt;h3 id=&quot;í™•ì¸-ë°©ë²•&quot;&gt;í™•ì¸ ë°©ë²•&lt;/h3&gt;
&lt;p&gt;ì ‘ì† ì¹´ìš´íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜ëŠ” ìŠ¤ë ˆë“œì— ì•ˆì „í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— Java ì—ì„œ ì œê³µí•˜ëŠ” ë‹¨ì¼ ì—°ì‚° ë³€ìˆ˜ &lt;strong&gt;AtomicLong&lt;/strong&gt; ë¥¼ ì´ìš©í•˜ì—¬ ìš”ì²­ ì¹´ìš´íŠ¸ë¥¼ ì €ì¥í–ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;  &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AtomicLong&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AtomicLong&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;	

  &lt;span class=&quot;nd&quot;&gt;@GetMapping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/pay-result-v2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;payResultV2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getAndIncrement&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;roomReservationService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;reserve&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RuntimeException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;ok&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ok&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nd&quot;&gt;@GetMapping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/result-request&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;totalRequestCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;total request count : &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ê¹¨ë‹¬ì€-ì &quot;&gt;ê¹¨ë‹¬ì€ ì &lt;/h3&gt;
&lt;p&gt;ì‚¬ì‹¤ ì²˜ìŒì—ëŠ” ë™ì‹œì„±ì— ëŒ€í•œ ì½”ë“œê°€ ì˜ëª»ëœ ì¤„ ì•Œì•˜ë‹¤. í•˜ì§€ë§Œ ë™ì‹œì„±ì„ ì œì–´í•˜ëŠ” ì½”ë“œì—ëŠ” ì•„ë¬´ëŸ° ì´ìƒì´ ì—†ì—ˆë‹¤. ì‹¤ì œë¡œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ëŒë ¤ë´¤ì„ ë•ŒëŠ” ëª¨ë‘ í†µê³¼í–ˆì—ˆë‹¤.
í•˜ì§€ë§Œ ìœ ë… ì‹œê°„ì„ ë‘ëŠ” í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒì„ ì˜ì‹¬í–ˆê³  ì§ì ‘ ì¹´ìš´íŠ¸ë¥¼ ì°ì—ˆì„ ë•Œ íˆ´ì—ì„œì˜ ê²°ê³¼ì™€ ë‹¤ë¥¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;íˆ´ì— ë‚˜ì˜¤ëŠ” ìš”ì²­ íšŸìˆ˜ë¥¼ ê·¸ëŒ€ë¡œ ë¯¿ì—ˆê¸°ì—, í•œ ë™ì•ˆ ë‚˜ì˜ ì½”ë“œê°€ ì˜ëª»ë˜ì—ˆëŠ” ì§€ ê³„ì† ì‚´í´ë³´ì•˜ë‹¤.
ìƒê°í•´ë³´ë©´ ë¶€í•˜í…ŒìŠ¤íŠ¸ëŠ” ì •í™•í•œ ìš”ì²­ ì¹´ìš´íŠ¸ê°€ ì¤‘ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. 
íŠ¹íˆ ì‹œê°„ì„ ë‘ê³  ì ì°¨ì ì¸ ë¶€í•˜í…ŒìŠ¤íŠ¸ë¥¼ í•  ë•Œ 1ì–µê±´ì˜ ìš”ì²­ì„ ë‚ ë¦¬ëŠ” ë° 10, 100 ì •ë„ ìš”ì²­ì´ ì°¨ì´ë‚œë‹¤ê³  í•´ì„œ ì‹œìŠ¤í…œ ë³‘ëª©ì„ íŒŒì•…í•˜ê³  ì–´ëŠ ì •ë„ ìš”ì²­ì— ëŒ€í•œ Throughput ì„ ê°€ì§€ëŠ” ì§€ë¥¼ íŒŒì•…ëª»í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì¶”ê°€-ìˆ˜ì •20241115&quot;&gt;ì¶”ê°€ ìˆ˜ì •(2024/11/15)&lt;/h3&gt;
&lt;p&gt;ì´ì™€ ê´€ë ¨ëœ ê¸€ì´ ìˆëŠ” ì§€ ì°¾ì•„ë³´ê³  ìˆ˜ì •í•¨.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;nGrinder ì˜ ê²½ìš° log íŒŒì¼ì˜ test ìˆ˜ì™€ web ìƒì— ë‚˜íƒ€ë‚˜ëŠ” executed test ìˆ˜ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.
 ì™œëƒí•˜ë©´ ë³„ë„ì˜ ìƒ˜í”Œë§ì´ë¼ëŠ” ë°ì´í„° ìˆ˜ì§‘ í”„ë¡œì„¸ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ê²°ê³¼ê°€ í•©ì‚°ë˜ëŠ” ë°, ì´ë•Œ í…ŒìŠ¤íŠ¸ ì¢…ë£Œì‹œì— ìƒ˜í”Œë§ì´ ì¼ë¶€ ëˆ„ë½ë˜ì–´ ì¡°ê¸ˆì˜ ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ ìˆê³  ì´ëŠ” ì•Œë ¤ì§„ ì´ìŠˆë¼ê³  í•œë‹¤.(&lt;a href=&quot;http://ngrinder.373.s1.nabble.com/exected-test-td2531.html&quot;&gt;ë§í¬ì°¸ì¡°&lt;/a&gt;) 
 &lt;br /&gt;&lt;br /&gt;
    &lt;h3 id=&quot;í…ŒìŠ¤íŠ¸&quot;&gt;í…ŒìŠ¤íŠ¸&lt;/h3&gt;
    &lt;p&gt;ì°¸ê³ ë¡œ nGrinder ëŠ” ì—ì´ì „íŠ¸ë‹¹ 1ê°œì˜ í”„ë¡œì„¸ìŠ¤ ë¡œê·¸ë§Œ ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— 1agent, vuser 1000 (1process, 1000 thread) ë¡œ í…ŒìŠ¤íŠ¸ í–ˆë‹¤(ê·¸ë¦¼ 1ì˜ ê²½ìš°ì—ëŠ” ë¡œê·¸íŒŒì¼ì„ ë³´ë©´ í•œê°œì˜ í”„ë¡œì„¸ìŠ¤ë§Œ ë³¼ ìˆ˜ ìˆì–´ì„œ ì „ì²´ ìš”ì²­ ìˆ˜ í™•ì¸ ë¶ˆê°€í•¨.)&lt;br /&gt;
í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì‹¤ì œ application ì—ì„œ ì¸¡ì •í•œ ìš”ì²­ ìˆ˜ ì™€ ì¼ì¹˜í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤!&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/ngrinder2_logfile.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 4 - 1agent, vuser 1000 (1process, 1000 thread), nGrinder í…ŒìŠ¤íŠ¸ ê²°ê³¼ log íŒŒì¼ ì¤‘ ì¼ë¶€&lt;/em&gt;
&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/count2.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 5 - ì‹¤ì œ application ì—ì„œ ì¸¡ì •í•œ ìš”ì²­ ìˆ˜&lt;/em&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ì°¸ê³ &quot;&gt;ì°¸ê³ &lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;http://ngrinder.373.s1.nabble.com/exected-test-td2531.html&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>ê²Œì´ë° ë°ìŠ¤í¬íƒ‘ìœ¼ë¡œ í™ˆì„œë²„ ìš´ì˜í•˜ê¸°</title>
   <link href="http://localhost:4000/2024/10/24/%EA%B2%8C%EC%9D%B4%EB%B0%8D-%EB%8D%B0%EC%8A%A4%ED%81%AC%ED%83%91%EC%9C%BC%EB%A1%9C-%ED%99%88%EC%84%9C%EB%B2%84-%EC%9A%B4%EC%98%81%ED%95%98%EA%B8%B0"/>
   <updated>2024-10-24T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/10/24/ê²Œì´ë° ë°ìŠ¤í¬íƒ‘ìœ¼ë¡œ í™ˆì„œë²„ ìš´ì˜í•˜ê¸°</id>
   <content type="html">&lt;h1 id=&quot;20241024---ê²Œì´ë°-ë°ìŠ¤í¬íƒ‘ìœ¼ë¡œ-í™ˆì„œë²„-ìš´ì˜í•˜ê¸°&quot;&gt;2024.10.24 - ê²Œì´ë° ë°ìŠ¤í¬íƒ‘ìœ¼ë¡œ í™ˆì„œë²„ ìš´ì˜í•˜ê¸°&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;NCP Platform â†’ Google Cloud â†’ Oracle Cloud ë¥¼ ê±°ì³ í† ì´í”„ë¡œì íŠ¸ ì„œë²„ë¡œ í™ˆì„œë²„ë¥¼ ì´ìš©í•˜ê¸°ë¡œ í–ˆë‹¤.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;ë°°ê²½&quot;&gt;ë°°ê²½&lt;/h2&gt;
&lt;p&gt;NCP ì—ì„œ ì œê³µí•´ì£¼ë˜ 100ë§Œì› í¬ë ˆë”§ì€ ì•„ì§ ë‚¨ì•˜ì§€ë§Œ, ìœ íš¨ê¸°ê°„ì´ ê³§ ëë‚˜ê°€ëŠ” í„°ë¼ ê²°êµ­ ë‹¤ë¥¸ í´ë¼ìš°ë“œë¥¼ ì•Œì•„ë³´ì•˜ê³  Google Cloud ë¡œ ë„˜ì–´ ê°”ë‹¤.&lt;br /&gt;
ê·¸ëŸ¬ë‚˜ ê²°êµ­ í¬ë˜ë”§ìœ¼ë¡œ ë²„í‹¸ ë¿ì´ë¼ ì´ ë˜í•œ ë§ˆìŒì— ì© ë“¤ì§€ëŠ” ì•Šì•˜ë‹¤. ë¬¼ë¡  ë§¤ë²ˆ ê³„ì •ì„ Google ê³„ì • ë§Œë“¤ê³  í¬ë ˆë”§ ë°›ëŠ” ê³¼ì •ì„ ë°˜ë³µí•˜ë©´ ëœë‹¤.
Oracle Cloud ì˜ ê²½ìš° í‰ìƒ ë¬´ë£Œ ì„œë²„ë¥¼ 2ê°œ ì œê³µí•˜ê³  ìˆì§€ë§Œ ë§¤ìš°ë§¤ìš° ì € ì‚¬ì–‘ ìŠ¤íŒ©ì´ë¼ í† ì´ í”„ë¡œì íŠ¸ë¡œ ì“°ê¸°ì—ëŠ” ë¶€ì í•©í–ˆë‹¤.
(&lt;del&gt;ëª¨ë‹ˆí„°ë§ íˆ´ ê¹Œì§€ ìƒê°í•˜ë©´ ì–´ë¦¼ë„ ì—†ë‹¤..&lt;/del&gt;)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h2 id=&quot;í˜„ì¬-í”„ë¡œì íŠ¸-êµ¬ì¡°&quot;&gt;í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°&lt;/h2&gt;

&lt;p&gt;ì´ˆì°½ê¸° í”„ë¡œì íŠ¸ êµ¬ì¡°ì™€ ê±°ì˜ í¡ì‚¬í•˜ë‹¤. ë‹¤ë§Œ, Vercel ë¡œ ìš´ì˜í•˜ì§€ ì•Šì€ ê²ƒì´ ì¡°ê¸ˆ ì°¨ì´ê°€ ë‚œë‹¤. (í¬ìŠ¤íŒ… ì°¸ì¡° : &lt;a href=&quot;https://velog.io/@kmss6905/%EB%B9%84%EC%82%AC%EC%9D%B4%EB%93%9C-401-Green-Developers-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%ED%9B%84%EA%B8%B0&quot;&gt;ë¹„ì‚¬ì´ë“œ 401 - Green Developers í”„ë¡œì íŠ¸ í›„ê¸°&lt;/a&gt;)&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/oracle_cloud.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 1 - ê³¼ê±°ì˜ í† ì´í”„ë¡œì íŠ¸ êµ¬ì¡°&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;í”„ë¡ íŠ¸(Next.js)ì™€ ë°±ì—”ë“œ(Spring Boot, Redis, MySQL) ëª¨ë‘ ê´€ë¦¬ì˜ í¸ì˜ì„±ì„ ìœ„í•´ ì»¨í…Œì´ë„ˆ í˜•íƒœë¡œ ìš´ì˜í•˜ê³  ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;Next.js ì™€ Spring Boot ì™€ ê°™ì€ Application ë“¤ì€ ë”°ë¡œ Application Server ì—ì„œ ìš´ì˜í•˜ê³  ë‚˜ë¨¸ì§€ Redis, MySQL ì€ DB Server ì—ì„œ ìš´ì˜í•œë‹¤. Application Server ì™€ DB Server ëŠ” ê°™ì€ Private Subnet ì— ìˆê¸° ë•Œë¬¸ì— Private IP ë¡œ ì„œë¡œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;ì°¸ê³ ë¡œ ê°œë°œì„œë²„ë„ ìš´ì˜í•˜ê³  ì‹¶ì—ˆì§€ë§Œ, ê·¸ëŸ´ ì—¬ë ¥ì´ ë  ìˆ˜ ì—†ì—ˆë‹¤. ì´ë¯¸ í•˜ë‚˜ì”© ìë¦¬ë¥¼ ì°¨ì§€í•˜ê³  ìˆì—ˆê¸° ë•Œë¬¸ì— ì´ˆë§ˆì´í¬ë¡œ ì„œë²„ì— 4ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ê³  ìš´ì˜í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë²„ê²ë‹¤.(ê° ìš´ì˜ìš©, ê°œë°œìš©)&lt;/p&gt;

&lt;p&gt;Google Cloud ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ê°œë°œ ì„œë²„ë„ ìš´ì˜í–ˆì§€ë§Œ ê²°êµ­ í¬ë˜ë”§ì´ ê³ ê°ˆë˜ì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ í´ë¼ìš°ë“œ ë³´ë‹¤ëŠ” ì˜¤ë²„ìŠ¤íŒ©ì´ì§€ë§Œ, ë³„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°ìŠ¤í¬íƒ‘ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ë³„ ë¶€ë‹´ì€ ì—†ì—ˆë‹¤.(ì „ê¸°ë£Œë§Œ ë‚´ë©´ ëœë‹¤).&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h2 id=&quot;í˜„ì¬-ë„¤íŠ¸ì›Œí¬-í† í´ë¡œì§€&quot;&gt;í˜„ì¬ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/topology.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 2 - ì§‘ì˜ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;ìš°ë¦¬ ì§‘ì˜ ë„¤íŠ¸ì›Œí¬ í† í´ë¦¬ì§€ êµ¬ì„±ë„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤&lt;/p&gt;

&lt;p&gt;ëª¨ë€ìœ¼ë¡œ ë¶€í„° 2ê°œì˜ ê³µì¸ IPë¥¼ ë¶€ì—¬ë°›ì•„ì„œ ì‚¬ìš©í•˜ê³  ìˆê³  í•˜ë‚˜ëŠ” Desktop(pc), ê·¸ë¦¬ê³  ë‚˜ë¨¸ì§€ í•˜ë‚˜ëŠ” ê³µìœ ê¸°ì— ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•˜ê³  ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê³µìœ ê¸° ì•„ë˜ì— pc ë¥¼ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ ë…ë¦½ëœ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•˜ê³  ì‹¶ì—ˆë‹¤. (KTì˜ ìœ ì„ ì •ì±…ì´ ì •í™•íˆ ì–´ë–»ê²Œ ë˜ëŠ” ì§€ëŠ” ì•Œì•„ë´ì•¼ ê² ì§€ë§Œ, &lt;del&gt;ê³µì¸ ip í• ë‹¹ì´ 2ê°œê¹Œì§€ ë˜ëŠ” ê±¸ë¡œ ì•Œê³ ìˆë‹¤. ì–´ë–¤ ê¸€ì—ì„œëŠ” 4ê°œ.. 8ê°œë„ ëœë‹¤ê³  í•œë‹¤..&lt;/del&gt;)&lt;/p&gt;

&lt;p&gt;ê³µìœ ê¸° ì•„ë˜ì— ì—°ê²°ë˜ì–´ìˆë‹¤ë©´ ë”°ë¡œ ê³µì¸ ipë¡œ ì ‘ì†í–ˆì„ ë•Œ ì„œë²„ë¡œ ì‚¬ìš©ë  pc ë¡œ íŠ¸ë˜í”½ì´ íë¥´ê²Œ í•˜ê¸° ìœ„í•´ í¬íŠ¸í¬ì›Œë”© ì‘ì—…ì´ í•„ìš”í•˜ê² ì§€ë§Œ ë”°ë¡œ ipë¥¼ í• ë‹¹ ë°›ì•˜ê¸° ë•Œë¬¸ì— êµ³ì´ ê·¸ëŸ´ í•„ìš”ëŠ” ì—†ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h2 id=&quot;wsl-vs-ê°€ìƒë¨¸ì‹ ì—ì„œ-linux-ìš´ì˜ì²´ì œ&quot;&gt;WSL vs ê°€ìƒë¨¸ì‹ ì—ì„œ Linux ìš´ì˜ì²´ì œ&lt;/h2&gt;

&lt;p&gt;í˜„ì¬ ê²Œì´ë° ë°ìŠ¤í¬íƒ‘ì˜ ê²½ìš° ìš´ì˜ì²´ì œê°€ ìœˆë„ìš° ì´ê³  ì¶”í›„ì—ë„ ìœˆë„ìš°ë¥¼ ì´ìš©í•´ ì‘ì—…í•  ê²½ìš°ê°€ êµ‰ì¥íˆ ë§ê³  ê²Œì„ë„ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ìš´ì˜ì²´ì œë¥¼ ë°”ê¿€ ìˆ˜ëŠ” ì—†ë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ê³  ìœˆë„ìš° ìš´ì˜ì²´ì œ ê·¸ ìì²´ë¥¼ ì„œë²„ë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ì—¬ê°„ ë¶ˆí¸í•œê²Œ ì•„ë‹ˆë‹¤. ë”°ë¼ì„œ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì—ì„œ ì„œë²„ë¥¼ ìš´ì˜í•˜ê³  ì‹¶ì—ˆëŠ” ë° ë‚˜ì—ê² ì„ íƒì§€ê°€ ë‘ ê°œê°€ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;ê°€ìƒ ë¨¸ì‹ ì„ ì„¤ì¹˜í•˜ê³  ìƒˆë¡œìš´ ì»´í“¨í„°ë¥¼ ë„ìš°ëŠ” ë°©ë²•&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;WSLì„ ì‚¬ìš©í•˜ì—¬ Windowsì— Linuxë¥¼ ì„¤ì¹˜í•´ì„œ ì‚¬ìš©í•˜ê¸°&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ë‚˜ëŠ” ê°€ë³ê²Œ ì‚¬ìš©í•  ìƒê°ì´ë¼ WSL ì„ ì‚¬ìš©í•´ì„œ Linux ë¥¼ ì„¤ì¹˜í–ˆë‹¤.
ê·¸ë¦¬ê³  Docker ë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë“  ì„œë²„ì™€ ëª¨ë‹ˆí„°ë§ ê´€ë ¨ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤ì€ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ì–´ì„œ ì»¨í…Œì´ë„ˆë¡œ ìš´ì˜í–ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;í”„ë¡œì íŠ¸-êµ¬ê²½í•˜ê¸°&quot;&gt;í”„ë¡œì íŠ¸ êµ¬ê²½í•˜ê¸°&lt;/h3&gt;
&lt;p&gt;URL : https://nyangnyang.co.kr&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>JVM ë©”ëª¨ë¦¬ í• ë‹¹ íš¨ìœ¨ì„± ë†’ì´ê¸°: Bump pointer allocationê³¼ TLAB</title>
   <link href="http://localhost:4000/2024/09/18/jvm-bump-pointer-allocation-and-thread-local-allocation-buffer"/>
   <updated>2024-09-18T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/09/18/JVM Bump pointer allocation and Thread-Local Allocation Buffer</id>
   <content type="html">&lt;h1 id=&quot;jvm-ë©”ëª¨ë¦¬-í• ë‹¹-íš¨ìœ¨ì„±-ë†’ì´ê¸°---bump-pointer-allocation-ê³¼thread-local-allocation-buffer&quot;&gt;JVM ë©”ëª¨ë¦¬ í• ë‹¹ íš¨ìœ¨ì„± ë†’ì´ê¸° - Bump pointer allocation ê³¼Thread-Local Allocation Buffer&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;Java ì—ì„œ ê°ì²´ ìƒì„±ì‹œ JVM ì˜ Heap ì˜ì—­ì— ë©”ëª¨ë¦¬ê°€ í• ë‹¹ëœë‹¤. í•˜ì§€ë§Œ JVM ì€ ê¸°ë³¸ì ìœ¼ë¡œ Multi-Thread í™˜ê²½ì´ê¸° ë•Œë¬¸ì— ë©”ëª¨ë¦¬ í• ë‹¹ì‹œ ë©”ëª¨ë¦¬ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ Bump the pointer ê³¼ Thread-Local-Buffer(TLAB) ë¼ëŠ” ê¸°ìˆ ì„ ì¶”ê°€í•˜ì˜€ëŠ” ë° ì´ì— ëŒ€í•´ì„œ ê°„ë‹¨íˆ ì •ë¦¬í•´ë³´ì•˜ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;bump-the-pointer&quot;&gt;Bump the pointer&lt;/h3&gt;

&lt;p&gt;ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ë©´ JVM ì´ Heap ì˜ì—­ì— ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìœ„í•´ì„œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ì•¼í•˜ëŠ”ë°, ë¹„ì–´ìˆëŠ” ë©”ëª¨ë¦¬ë¥¼ ì°¾ì„ ë•Œ JVMì€ íƒìƒ‰í•˜ëŠ” ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ í• ë‹¹ëœ ë©”ëª¨ë¦¬ ë°”ë¡œ ë’¤ì— ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ” ë° ì´ë¥¼ &lt;strong&gt;Bump pointer allocation&lt;/strong&gt; ì´ë¼ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ëŒ€ë¶€ë¶„ì˜ Gabage Collector ëŠ” Gabage Collection ì‹œ ì••ì¶•(Compat) í•˜ëŠ” ê³¼ì •ì„ í†µí•´ íŒŒí¸í™”ëœ ë©”ëª¨ë¦¬ ê³µê°„ì„ í•˜ë‚˜ë¡œ ëª¨ìœ¼ëŠ” ì‘ì—…ì„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;/blockquote&gt;

&lt;h3 id=&quot;thread-local-allocation-buffer&quot;&gt;&lt;strong&gt;Thread-Local Allocation Buffer&lt;/strong&gt;&lt;/h3&gt;

&lt;h4 id=&quot;ë“±ì¥ë°°ê²½&quot;&gt;ë“±ì¥ë°°ê²½&lt;/h4&gt;
&lt;p&gt;new ë¼ëŠ” í‚¤ì›Œë“œë¥¼ í†µí•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í–ˆì„ ë•Œë¥¼ ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë©”ëª¨ë¦¬ì— í• ë‹¹í•˜ê¸° ìœ„í•´ ë¹„ì–´ìˆëŠ” ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ìš”ì²­í•˜ê²Œ ë©ë‹ˆë‹¤.  ì´ë•Œ Bump the pointer ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ê°€ì¥ ìµœê·¼ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ ê³µê°„ ë°”ë¡œ ë’¤ì˜ ì£¼ì†Œë¥¼ ìš”ì²­ ë°›ê²Œ ë©ë‹ˆë‹¤.&lt;br /&gt;
ë¬¸ì œëŠ” JVM ì€ ë©€í‹° ìŠ¤ë ˆë“œë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ê°œì˜ ìŠ¤ë ˆë“œê°€ ìµœê·¼ì— í• ë‹¹ëœ ë©”ëª¨ë¦¬ ê³µê°„ì„ ë™ì‹œì— ìš”ì²­í•˜ë©´ ë™ì‹œí™” ì´ìŠˆê°€ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/single_thread_allocation_request.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 1 - ì‹±ê¸€ìŠ¤ë ˆë“œì˜ ë©”ëª¨ë¦¬ ìš”ì²­&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì´ë ‡ê²Œ &lt;em&gt;ê·¸ë¦¼ 1&lt;/em&gt; ê³¼ ê°™ì´ ì˜¤ì§ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì— ëŒ€í•´ì„œ í• ë‹¹ ìš”ì²­í•˜ëŠ” ê²½ìš°ì—ëŠ” ë©”ëª¨ë¦¬ í¬ê¸°ë¥¼ ìš”ì²­í•˜ëŠ” ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì´ê¸° ë•Œë¬¸ì— ë™ê¸°í™” ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/multi_thread_allocation_collision.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 2 - ë©€í‹°ìŠ¤ë ˆë“œì˜ ë©”ëª¨ë¦¬ ìš”ì²­&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;ê·¸ë¦¼ 2&lt;/em&gt; ì²˜ëŸ¼ ì—¬ëŸ¬ê°œì˜ Thread ê°€ ë™ì‹œì— ë©”ëª¨ë¦¬ë¥¼ ìš”ì²­í•˜ë ¤ê³  í•˜ëŠ” ê²½ìš° ì¶©ëŒì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¹ì—°íˆ ì´ëŸ´ ê²½ìš°ì—ëŠ” Lock ê³¼ ê°™ì€ ë™ê¸°í™” ì‘ì—…ì´ ìˆ˜í–‰ë©ë‹ˆë‹¤.
ë§Œì•½ 10ê°œì˜ ìŠ¤ë ˆë“œê°€ ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ìš”ì²­í•˜ë ¤ê³  í•œë‹¤ë©´ ìµœì´ˆ í• ë‹¹ì„ ìš”ì²­í•œ ìŠ¤ë ˆë“œê°€ ë½ì„ í’€ë•Œê¹Œì§€ ë’¤ì— 9ê°œì˜ ìŠ¤ë ˆë“œê°€ ëŒ€ê¸°í•˜ê²Œ ë˜ê³  ì´ëŠ” Application ì˜ ì„±ëŠ¥ì €í•˜ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/multi_thread_memory_allocation_request.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ê·¸ë¦¼ 3 - TLAB&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ JVM ì€ &lt;u&gt;TLAB(Thread-Local Allocation Buffer)&lt;/u&gt; ì´ë¼ëŠ” ê¸°ìˆ ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;u&gt;TLAB(Thread-Local Allocation Buffer)&lt;/u&gt;ëŠ” &lt;em&gt;ê·¸ë¦¼ 3&lt;/em&gt; ê³¼ ê°™ì´ ê° ìŠ¤ë ˆë“œì—ê²Œ Eden ì˜ì—­ì˜ ì¼ë¶€ë¥¼ ë…ì ì ìœ¼ë¡œ í• ë‹¹í•˜ì—¬, í•´ë‹¹ ìŠ¤ë ˆë“œê°€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë™ê¸°í™” ì—†ì´ ë¹ ë¥´ê²Œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;(ë¬¼ë¡  TLAB ë¥¼ Thread ì—ê²Œ ìµœì´ˆë¡œ í• ë‹¹í•˜ê±°ë‚˜ TLAB ê°€ ë¶€ì¡±í•´ì„œ ìƒˆë¡­ê²Œ í• ë‹¹ ë°›ì„ ë•ŒëŠ” ë™ê¸°í™” ì´ìŠˆê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ì–´ì©” ìˆ˜ ì—†ì§€ë§Œ, ê·¸ë˜ë„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œë³´ë‹¤ëŠ” ë™ê¸°í™” ì´ìŠˆê°€ ë§ì´ ì¤„ì–´ ë“¤ì–´ ë©”ëª¨ë¦¬ í• ë‹¹ì— ê±¸ë¦¬ëŠ” ì‹œê°„ì´ ì¤„ì–´ë“œëŠ” ê±´ ì¥ì ìœ¼ë¡œ ì‘ìš©í•©ë‹ˆë‹¤.)&lt;/p&gt;

&lt;h3 id=&quot;ìš”ì•½&quot;&gt;ìš”ì•½&lt;/h3&gt;

&lt;p&gt;JVM ì€ ê°ì²´ì— ëŒ€í•œ ë©”ëª¨ë¦¬ í• ë‹¹ ìš”ì²­ì‹œ ë¹„ì–´ ìˆëŠ” ë©”ëª¨ë¦¬ë¥¼ ì°¾ëŠ” ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ìµœê·¼ í• ë‹¹ëœ ë©”ëª¨ë¦¬ ê³µê°„ ë°”ë¡œ ë’¤ì˜ ë©”ëª¨ë¦¬ ê³µê°„ì„ ìš”ì²­í•˜ëŠ” ë°©ì‹ì˜ &lt;u&gt;**Bump pointer allocation**&lt;/u&gt; ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Multi Thread í™˜ê²½ì—ì„œ ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì„ ë™ì‹œì— ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìš”ì²­í•  ê²½ìš° ë™ê¸°í™” ì´ìŠˆë¡œ ì¸í•œ ë³‘ëª©í˜„ìƒì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.
ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ Heap ì— Thread ë³„ë¡œ ê³µê°„ì„ ë‚˜ëˆ„ì–´ ëŒ€ê¸° í˜„ìƒ ì—†ì´ ë©”ëª¨ë¦¬ í• ë‹¹ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë°©ë²•ì¸ &lt;u&gt;**Thread Local Allocation Buffer(TLAB)**&lt;/u&gt; ë¼ëŠ” ê¸°ìˆ ì„ ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;
&lt;h3 id=&quot;reference&quot;&gt;Reference&lt;/h3&gt;
&lt;p&gt;https://www.baeldung.com/java-jvm-tlab&lt;br /&gt;
https://inside.java/2020/06/25/compact-forwarding/&lt;br /&gt;
ê¹€í•œë„,Â &lt;strong&gt;ã€&lt;/strong&gt;JAVA PERFORMANCE FUNDAMENTAL&lt;strong&gt;ã€&lt;/strong&gt;,Â ì—‘ì…ˆ(2009), 108-109&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ì˜ë¯¸ê°€ ì™„ë²½í•˜ê²Œ ê°™ë‹¤ë©´ ì‘ë‹µ í•„ë“œ ì´ë¦„ë„ ê°™ê²Œí•˜ì</title>
   <link href="http://localhost:4000/2024/09/16/%EC%9D%98%EB%AF%B8%EA%B0%80-%EC%99%84%EB%B2%BD%ED%95%98%EA%B2%8C-%EA%B0%99%EB%8B%A4%EB%A9%B4-%EC%9D%91%EB%8B%B5-%ED%95%84%EB%93%9C-%EC%9D%B4%EB%A6%84%EB%8F%84-%EA%B0%99%EA%B2%8C%ED%95%98%EC%9E%90"/>
   <updated>2024-09-16T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/09/16/ì˜ë¯¸ê°€ ì™„ë²½í•˜ê²Œ ê°™ë‹¤ë©´ ì‘ë‹µ í•„ë“œ ì´ë¦„ë„ ê°™ê²Œí•˜ì</id>
   <content type="html">&lt;h1 id=&quot;ì˜ë¯¸ê°€-ê°™ë‹¤ë©´-ì‘ë‹µ-í•„ë“œ-ì´ë¦„ë„-ê°™ë„ë¡-í•˜ì---ë‚˜ë¥¼-ìœ„í•´ì„œ-ëª¨ë‘ë¥¼-ìœ„í•´ì„œ&quot;&gt;ì˜ë¯¸ê°€ ê°™ë‹¤ë©´ ì‘ë‹µ í•„ë“œ ì´ë¦„ë„ ê°™ë„ë¡ í•˜ì! - ë‚˜ë¥¼ ìœ„í•´ì„œ ëª¨ë‘ë¥¼ ìœ„í•´ì„œ&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;ê°™ì€ í•„ë“œì´ê³  ê·¸ ì˜ë¯¸ê°€ ë‹¤ë¥¸ ê³³ì—ì„œë„ ë˜‘ê°™ì´ ì ìš©ë˜ëŠ” ê²½ìš°ë¼ë©´ ì™ ë§Œí•˜ë©´ í†µì¼ë˜ê²Œ ì´ë¦„ì„ ê°€ì ¸ê°€ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°ì´ ë“ ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ëƒ¥ì €ëƒ¥ í† ì´í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°œë³„ ê³ ì–‘ì´ ì»¨í…ì¸ ë¥¼ ìƒì„¸ ì¡°íšŒí•˜ê±°ë‚˜ ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ë‚˜ì˜ ê³ ì–‘ì´ ëŒ“ê¸€ ì¡°íšŒ í•­ëª©ì—ì„œë„ ê°œë³„ ëŒ“ê¸€ ë§ˆë‹¤ ê³ ì–‘ì´ ì´ë¦„ì´ ë“¤ì–´ê°€ëŠ” ë° ì´ë–„ ë“¤ì–´ê°€ëŠ” ê³ ì–‘ì´ ì´ë¦„ì€ ì»¨í…ì¸ ì— ë“¤ì–´ê°€ëŠ” ê³ ì–‘ì´ ì´ë¦„ê³¼ ê°™ë„ë¡ ì„¤ê³„í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¬¸ì œëŠ” ì²˜ìŒì— ì»¨í…ì¸  ì¡°íšŒì—ì„œ ë“±ì¥í•˜ëŠ” ê³ ì–‘ì´ì™€ ëŒ“ê¸€ ì¡°íšŒì—ì„œ ë“±ì¥í•˜ëŠ” ê³ ì–‘ì´ì´ë¦„ì€ ì™„ì „íˆ ì˜ë¯¸ì ìœ¼ë¡œ ê°™ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ê¸°ëŠ¥ì ìœ¼ë¡œ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ í•„ë“œ ì´ë¦„ì„ ì ëŠ” ì‹¤ìˆ˜ë¥¼ ì €ì§€ë¥´ê³  ë§ì•˜ì—ˆë‹¤..&lt;/p&gt;

&lt;p&gt;ê·¸ëŸ¬ë‚˜ë³´ë‹ˆ ë‚˜ì¤‘ì—ëŠ” ì™„ì „íˆ ê°™ì€ ëœ»ì˜ ê³ ì–‘ì´ ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  ë‹¤ì‹œ ì½”ë“œë¥¼ ë³¼ ë•Œë‚˜ í”„ë¡ íŠ¸ ì—”ë“œ ê°œë°œìê°€ ë‹¤ì‹œ ë³¼ ë•Œë„ í—·ê°ˆë¦¬ëŠ” ë¬¸ì œê°€ ìƒê²¨ë‚˜ê³  ë§ì•˜ë‹¤&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;í”„ë¡ íŠ¸ ê°œë°œì : â€œê°™ì€ ê³ ì–‘ì´ ì´ë¦„ì¸ë° ì™œ ë‹¤ë¥¸ ì´ë¦„ì„ ì‚¬ìš©í–ˆë‚˜ìš”? ê·¸ ì´ìœ ë¼ë„?â€¦ â€œ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì¦‰ ì»¨í…ì¸  ì¡°íšŒì—ì„œ ë“±ì¥í•˜ë‚˜, ëŒ“ê¸€ ì¡°íšŒì—ì„œ ë“±ì¥í•˜ë‚˜ ê²°êµ­ ê°™ì€ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ê°™ì€ í•„ë“œ ë„¤ì„ì„ ì ìš©í•˜ëŠ” ê²ƒì´ ë§ë‹¤. ì™œëƒë©´ ì´ë ‡ê²Œ ë˜ë©´ ì¶”ê°€ì ìœ¼ë¡œ í™•ì¸í•´ì•¼í•˜ëŠ” ë²ˆê±°ëŸ¬ìš´ ì‘ì—…ì´ ìƒëµë  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ë¥¼ ë³´ë©´&lt;/p&gt;

&lt;p&gt;ì²«ë²ˆ ì§¸ ê³ ì–‘ì´ ì»¨í…ì¸  ë¦¬ìŠ¤íŠ¸ ì‘ë‹µ ë°ì´í„° ì¤‘ í•˜ë‚˜ì´ê³  ë‘ë²ˆ ì§¸ëŠ” ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ ì‘ë‹µ ë°ì´í„° ì¤‘ í•˜ë‚˜ì˜ ëŒ“ê¸€ì„ ê°€ì ¸ì™”ë‹¤. 
ì²«ë²ˆ ì§¸ëŠ” í•„ë“œì´ë¦„(catName)ë§Œ ë´ë„ ê³ ì–‘ì´ì˜ ì´ë¦„ì´ë¼ëŠ” ê²ƒì„ ìœ ì¶”í•  ìˆ˜ ìˆëŠ” ë°˜ë©´ì— ë‘ë²ˆ ì§¸ëŠ” ë‹¨ìˆœíˆ name ì´ë¼ëŠ” ê°’ì´ ëŒ“ê¸€ì— ìˆëŠ” ê³ ì–‘ì´ ì´ë¦„ì¸ì§€, ì•„ë‹ˆë©´ ë‹¤ë¥¸ ì˜ë¯¸ê°€ ìˆëŠ” ê²ƒì´ ë˜ í•œë²ˆ ì¶”ì¸¡í•´ì•¼í•˜ê±°ë‚˜ ë¬¸ì„œë¥¼ í™•ì¸í•´ì•¼í•˜ëŠ” ë²ˆê±°ëŸ¬ì›€ì´ ìƒê¸°ê¸° ë§ˆë ¨ì´ë‹¤.
ë”°ë¼ì„œ ì´ ê²½ìš° ìš°ì¸¡ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;name&lt;/code&gt; í•„ë“œ ì´ë¦„ì„ ì¢Œì¸¡ê³¼ ê°™ì´ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;catName&lt;/code&gt; ìœ¼ë¡œ í†µì¼í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ë³´ì¸ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ë°”ë¹„&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catAddress&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ì„œìš¸ ë§ˆí¬êµ¬ ë§ì›ë™ 415-31&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catLat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;37.582425&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catLon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;126.985818&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catCommentCount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catFollowerCount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catCreatedAt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2024-02-01T15:24:36&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catUpdatedAt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2024-02-01T15:24:36&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;catEmoji&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ë°”ë¹„&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;commentId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;106&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;commentDesc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ì´ ê³ ì–‘ì´ ìš”ì¦˜ ì•ˆë³´ì„... ë„ˆë¬´ ìŠ¬í¼.. ì£½ì—ˆë‚˜ë´... &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ëŒ€ì‹  ë‹¤ë¥¸ ê³ ì–‘ì´ê°€ ì˜¤ê³ ìˆì–´&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;commentImageUris&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;createdAt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2024-09-09T21:32:45&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;updatedAt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2024-09-09T21:32:45&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;contentId&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;153&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;commentLikeCount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;isCatCommentLiked&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ê¹¨ë‹¬ì€-ì &quot;&gt;ê¹¨ë‹¬ì€ ì &lt;/h2&gt;

&lt;p&gt;ì‚¬ìš©ë˜ëŠ” í•„ë“œë¥¼ ì˜ë¯¸ë¡ ì ìœ¼ë¡œ ë˜‘ê°™ë‹¤ë©´ ê°™ì€ í•„ë“œë¡œ ë‚´ë ¤ì£¼ëŠ” ê²ƒì´ ë” íš¨ìœ¨ì ì¼ ê²ƒê°™ë‹¤. ë¬¼ë¡  ì´ê²Œ ì •ë‹µì´ë¼ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
ë§Œì•½ ì½”ë“œìƒìœ¼ë¡œ ë‹¤ë¥¸ í•„ë“œë¥¼ ì ìš©í•´ì•¼ í•œë‹¤ë©´ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ìˆëŠ” &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;@JsonProperty&lt;/code&gt; ë¥¼ ì‚¬ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ ì‘ë‹µí•„ë“œë§Œ í†µì¼ì‹œí‚¤ë©´ ë˜ê¸° ë•Œë¬¸ì— í° ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í•œë‹¤.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ì˜ëª» ì•Œê³  ìˆì—ˆë˜ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”</title>
   <link href="http://localhost:4000/2024/09/11/%EC%9E%98%EB%AA%BB-%EC%95%8C%EA%B3%A0-%EC%9E%88%EC%97%88%EB%8D%98-%EC%A7%81%EB%A0%AC%ED%99%94%EC%99%80-%EC%97%AD%EC%A7%81%EB%A0%AC%ED%99%94"/>
   <updated>2024-09-11T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/09/11/ì˜ëª» ì•Œê³  ìˆì—ˆë˜ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”</id>
   <content type="html">&lt;h1 id=&quot;20231216---ì˜ëª»-ì•Œê³ -ìˆì—ˆë˜-ì§ë ¬í™”ì™€-ì—­ì§ë ¬í™”&quot;&gt;2023.12.16 - ì˜ëª» ì•Œê³  ìˆì—ˆë˜ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”&lt;/h1&gt;

&lt;p&gt;JPA ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤..&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;org.springframework.http.converter.HttpMessageNotReadableException:Â JSONÂ parseÂ error:Â CannotÂ deserializeÂ valueÂ ofÂ typeÂ `java.time.Instant`Â fromÂ StringÂ â€2012-02-01â€:Â FailedÂ toÂ deserializeÂ java.time.Instant:Â (java.time.format.DateTimeParseException)Â TextÂ â€™2012-02-01â€™Â couldÂ notÂ beÂ parsedÂ atÂ indexÂ 10&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”ëŠ” ë°”ì´íŠ¸ì½”ë“œì—ì„œ ê°ì²´ë¡œì˜ ì •ë³´êµí™˜ë§Œì„ ì˜ë¯¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆì—ˆëŠ” ë° String ì—ì„œ Object ë¡œì˜ ë³€í™˜ ì—­ì‹œ ì—­ì§ë ¬í™”ë¼ê³  í‘œí˜„í•˜ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤.&lt;br /&gt;
ì•Œê³ ë³´ë‹ˆ ì§ë ¬í™”, ì—­ì§ë ¬í™”ëŠ” ê·¸ëŸ° ì˜ë¯¸ê°€ ì•„ë‹ˆì˜€ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ê³  ê´€ë ¨ëœ ë‚´ìš©ì„ ì •ë¦¬í•´ë³´ì•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì»´í“¨í„°ëŠ”-0-ê³¼-1-ë§Œ-ì•ˆë‹¤&quot;&gt;ì»´í“¨í„°ëŠ” 0 ê³¼ 1 ë§Œ ì•ˆë‹¤.&lt;/h3&gt;

&lt;p&gt;ì‚¬ì‹¤ ë°ì´í„°ì—ëŠ” ê°ì²´ê°€ ì—†ë‹¤. ìš°ë¦¬ê°€ í†µì‹ ì—ì„œ ì£¼ê³  ë°›ëŠ” ë°ì´í„°ëŠ” ì‚¬ì‹¤ ë°”ì´íŠ¸ ì½”ë“œë¡œ ëŒ€ë¶€ë¶„ 0ê³¼ 1ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê°ì²´ëŠ” ì‚¬ëŒë“¤ì´ ì´í•´í•˜ê¸° ì‰½ê²Œ í•˜ê¸° ìœ„í•´ ë§Œë“  ì¶”ìƒì ì¸ ê°œë…ì— ë¶ˆê³¼í•˜ë‹¤. ë©”ëª¨ë¦¬ì—ëŠ” ê°ì²´ê°€ ì—†ë‹¤. 0ê³¼ 1ë¡œ ì´ë£¨ì–´ì§„ ë°ì´í„°ë§Œ ìˆì„ ë¿ì´ë‹¤.Â &lt;/p&gt;

&lt;p&gt;ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì—ë””í„°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì €ì¥ë²„íŠ¼ì„ ëˆ„ë¥´ì. ê·¸ë¦¬ê³  ë‹¤ìŒë‚  ì €ì¥ëœ íŒŒì¼ì„ ì—ë””í„°ë¥¼ í†µí•´ ì—´ë©´ ì €ì¥ëœ ëª¨ìŠµ ê·¸ëŒ€ë¡œì˜ ì½”ë“œê°€ ìˆì„ ê²ƒì´ë‹¤. ì´ê±´ ì–´ì°Œë³´ë©´ ë‹¹ì—°í•œ ê±°ë‹¤. ì €ì¥ì„ í–ˆìœ¼ë‹ˆ ë§ì´ë‹¤.Â &lt;/p&gt;

&lt;p&gt;ìš°ë¦¬ëŠ” ì—ë””í„°ë¥¼ í†µí•´ ì—° íŒŒì¼ì„ í¸ì§‘í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ì§€ë§Œ ì´ëŠ” â€œì§ë ¬í™”â€ ë¼ëŠ” ê³¼ì •ì„ í†µí•´ ì‹¤ì œ íŒŒì¼ì— ì½”ë“œ(ì‹¤ì œë¡œëŠ” ë°”ì´íŠ¸ì½”ë“œ)ë¥¼ ì‘ì„±í•œ ê²ƒì´ë‹¤. í•´ë‹¹ íŒŒì¼ì„ ì—ë””í„°ë¡œ ì—¬ëŠ” í–‰ìœ„ëŠ” â€œì—­ì§ë ¬í™”â€ë¼ëŠ” ê³¼ì •ì„ í†µí•´ íŒŒì¼ì— ìˆëŠ” ë°”ì´íŠ¸ ì½”ë“œë¥¼ ì—­ì§ë ¬í™”ë¥¼ í†µí•´ ì—ë””í„°ê°€ ì½ì–´ë“œë¦´ ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë°”ê¾¸ê²Œ ëœ ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì§ë ¬í™”ì™€-ì—­ì§ë ¬í™”&quot;&gt;ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”&lt;/h3&gt;

&lt;p&gt;ì¦‰, &lt;strong&gt;ì§ë ¬í™”&lt;/strong&gt;ë€ ê°ì²´ë¥¼ íŒŒì¼ì´ë‚˜ í†µì‹ í•  ìˆ˜ ìˆëŠ” ì‰¬ìš´ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ë§í•œë‹¤. í†µì‹ í•  ìˆ˜ ìˆëŠ” ì‰¬ìš´í˜•íƒœëŠ” ë°”ì´íŠ¸ì½”ë“œê°€ ë  ìˆ˜ë„ ìˆê³  JSON ì´ë‚˜ XML ê°™ì´ ê·œê²©í™”ëœ ë˜ ë‹¤ë¥¸ í†µì‹  í˜•íƒœë¡œ ì •í•´ë†“ì€ í˜•íƒœì¼ ìˆ˜ë„ ìˆë‹¤.Â &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì—­ì§ë ¬í™”&lt;/strong&gt;ëŠ” ì§ë ¬í™”ì˜ ë°˜ëŒ€ë¡œ, ì§ë ¬í™”ëœ ì •ë³´ë¥¼ ë‹¤ì‹œ ì›ë˜ëŒ€ë¡œ ê°ì²´ì˜ í˜•íƒœë¡œ ë˜ëŒë¦¬ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì¦‰, ë°”ì´íŠ¸ì½”ë“œì—ì„œ ì˜¤ë¸Œì íŠ¸ë¡œ, ì˜¤ë¸Œì íŠ¸ì—ì„œ ë°”ì´íŠ¸ì½”ë“œë¡œ ì •ë³´ì˜ í˜•íƒœë¥¼ ë°”ê¾¸ëŠ” ê²ƒë§Œì´ ì§ë ¬í™”, ì—­ì§ë ¬í™”ë¥¼ ëœ»í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆì˜€ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ê°ì²´ë¥¼ JSON, XML, íŒŒì¼ ì´ ëª¨ë“  ê²ƒì´ í•´ë‹¹ëœë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;### &lt;br /&gt;
íŒŒì¼ì„ ì£¼ê³  ë°›ëŠ” ê²ƒ ë˜í•œ ì§ë ¬í™”ì™€ ì—­ì§ë ¬í™”ê°€ ì‚¬ìš©ëœë‹¤.&lt;/p&gt;

&lt;p&gt;A ë¼ëŠ” ì»´í“¨í„°ì™€ B ë¼ëŠ” ì»´í“¨í„°ê°€ ì„œë¡œ íŒŒì¼ì„ ì£¼ê³  ë°›ëŠ” ë‹¤ê³  ê°€ì •í•´ë³´ì.&lt;/p&gt;

&lt;p&gt;A ì™€ BëŠ” ê°ì ì»´í“¨í„° ìŠ¤íŒ©ë„ ë‹¤ë¥´ê³  ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë„ ë‹¤ë¥´ì§€ë§Œ, 0ê³¼ 1ì´ë¼ëŠ” ë°”ì´íŠ¸ ì½”ë“œë¥¼ ì „ê¸°ì  ì‹ í˜¸ë¡œ ë°”ê¾¸ì–´ íšŒì„ ì„ í†µí•´ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì „ë‹¬í•˜ê³ ì í•˜ëŠ” íŒŒì¼ì„ ë¨¼ì € 0ê³¼ 1ì´ë¼ê³  í•˜ëŠ” ë°”ì´íŠ¸ì½”ë“œë¡œ â€œì§ë ¬í™”â€ í•œë‹¤. 0ê³¼ 1ì˜ ë°”ì´íŠ¸ì½”ë“œë¡œ ë³€í™˜ëœ ë°ì´í„°ëŠ” íšŒì„ ì„ í†µí•´ ì „ê¸°ì ì¸ ì‹ í˜¸ë¡œ ë°”ë€Œì–´ ì „ë‹¬ë˜ê²Œ ëœë‹¤.Â &lt;/p&gt;

&lt;p&gt;íŒŒì¼ ë°ì´í„°ë¥¼ ì „ê¸°ì ì‹ í˜¸ë¥¼ 0ê³¼1ì˜ ë°”ì´íŠ¸ì½”ë“œë¡œ ì „ë‹¬ë°›ì€ ë‹¤ë¥¸ ì»´í“¨í„°ëŠ” ì´ë¥¼ â€œì—­ì§ë ¬í™”â€ë¥¼ í†µí•´ ë°”ì´íŠ¸ë°ì´í„°ë¥¼ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸(íŒŒì¼)ë¡œ ë°”ê¾¸ì–´ ì „ë‹¬ë°›ëŠ”ë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;600&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/docs/images/se_de_1.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;### &lt;br /&gt;
JSON ë°ì´í„° ì£¼ê³  ë°›ê¸°&lt;/p&gt;

&lt;p&gt;ë˜ ë‹¤ë¥¸ ì˜ˆë¡œ ë¸Œë¼ìš°ì €ì—ì„œ ì„œë²„ì™€ í†µì‹ ì„ ì£¼ê³  ë°›ì„ ë•Œ ì£¼ë¡œ JSON í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤.Â &lt;/p&gt;

&lt;p&gt;ì˜¤ë¸Œì íŠ¸ íŒŒì¼ì—ì„œ JSON íŒŒì¼ë¡œ ì§ë ¬í™” í•˜ì—¬ ì „ì†¡í•˜ê³  ë‹¤ìš´ë¡œë“œ ë°›ì€ JSON íŒŒì¼ì—ì„œ ì—­ì§ë ¬í™” í•œë‹¤.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;600&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/docs/images/se_de.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;### &lt;br /&gt;
ì´ì œëŠ” ì´í•´ë˜ëŠ” ì—ëŸ¬ë©”ì‹œì§€&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Â CannotÂ deserializeÂ valueÂ ofÂ typeÂ `java.time.Instant`Â fromÂ StringÂ â€2012-02-01â€:Â FailedÂ toÂ deserializeÂ java.time.Instant:Â (java.time.format.DateTimeParseException)Â TextÂ â€™2012-02-01â€™Â couldÂ notÂ beÂ parsedÂ atÂ indexÂ 10&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” java.time.Instant ê°ì²´ë¡œì˜ ì—­ì§ë ¬í™” ì¤‘ì— ë°œìƒí•œ ë¬¸ì œë¥¼ ì„¤ëª…í•˜ê³  ìˆë‹¤. java.time.InstantëŠ” ë‚ ì§œì™€ ì‹œê°„ì„ í‘œí˜„í•˜ëŠ” ìë°”ì˜ í´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ì¸ë°, ì£¼ì–´ì§„ &lt;strong&gt;ë¬¸ìì—´ â€œ2012-02-01â€&lt;/strong&gt;ì„ &lt;strong&gt;Instant ê°ì²´ë¡œ ë³€í™˜í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒ&lt;/strong&gt;ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì¦‰, â€œì—­ì§ë ¬í™”â€ í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.Â &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;java.time.InstantëŠ” ISO 8601 í˜•ì‹ì— ë§ì¶°ì§„ ë¬¸ìì—´&lt;/strong&gt;ì„ ì‚¬ìš©í•˜ì—¬ ë‚ ì§œì™€ ì‹œê°„ì„ ë‚˜íƒ€ë‚´ê³  ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì—­ì§ë ¬í™”ì˜ ëŒ€ìƒì´ ë˜ëŠ” ë¬¸ìì—´ì€ ë°˜ë“œì‹œ â€œYYYY-MM-DDTHH:MM:SSZâ€ì™€ ê°™ì€ í˜•ì‹ì´ì–´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‚˜ â€œ2012-02-01â€ì€ ì‹œê°„ ì •ë³´ê°€ ì—†ëŠ” ë‚ ì§œ ì •ë³´ë§Œì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— &lt;strong&gt;Instantë¡œ ì—­ì§ë ¬í™”&lt;/strong&gt;í•  ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë˜ ê²ƒì´ë‹¤.Â &lt;/p&gt;

&lt;p&gt;(ì‚¬ì‹¤ ì´ëŸ¬í•œ ë¬¸ì œëŠ” JSON ì„ Object ë¡œ ë³€í™˜ í•  ë•Œë„ ë¹ˆë²ˆí•˜ê²Œ ì¼ì–´ë‚˜ëŠ” ë¬¸ì œì´ë‹¤. ë³´í†µ ì´ëŸ° ê²½ìš° JSON ì„ Object ë¡œ ì§ë ¬,ì—­ì§ˆë ¬í™”ë¥¼ ë„ì™€ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” ë° ìœ„ì˜ ë¬¸ì œì™€ ë§ˆì°¬ê°€ì§€ë¡œ JSON ì— í¬ë§·ì— ë§ì§€ ì•ŠëŠ” ê²½ìš° ì˜¤ë¸Œì íŠ¸ ë³€í™˜ ì‹œ â€œì—­ì§ë ¬í™”â€ì— ì‹¤íŒ¨í–ˆë‹¤ëŠ” ë©”ì‹œì§€ë¥¼ ìì£¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.)&lt;/p&gt;

&lt;h3 id=&quot;ìë°”-ê°ì²´---íŒŒì¼&quot;&gt;ìë°” ê°ì²´ &amp;lt;-&amp;gt; íŒŒì¼&lt;/h3&gt;

&lt;p&gt;Person ì´ë¼ëŠ” ê°ì²´ë¥¼ ìƒì„±í•œ í›„ ê°ì²´ë¥¼ ì§ë ¬í™” í•˜ì—¬ íŒŒì¼ì— ì €ì¥í•©ë‹ˆë‹¤. ì´í›„ íŒŒì¼ì— ì €ì¥ëœ ê°ì²´ë¥¼ ì—­ì§ë ¬í™” í•˜ì—¬ ì½ì–´ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;import java.io.*;

// Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì§ë ¬í™” ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“­ë‹ˆë‹¤.
class Person implements Serializable {
    private static final long serialVersionUID = 1L;
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }
}

public class SerializationExample {
    public static void main(String[] args) {
        // Person ê°ì²´ ìƒì„±
        Person person = new Person(&quot;Alice&quot;, 30);

        // ê°ì²´ë¥¼ ì§ë ¬í™”í•˜ì—¬ íŒŒì¼ì— ì €ì¥
        try (FileOutputStream fileOut = new FileOutputStream(&quot;serialized_person.ser&quot;);
             ObjectOutputStream out = new ObjectOutputStream(fileOut)) {
            
            out.writeObject(person);
            System.out.println(&quot;Person ê°ì²´ë¥¼ ì§ë ¬í™”í•˜ì—¬ ì €ì¥í–ˆìŠµë‹ˆë‹¤.&quot;);
        } catch (IOException e) {
            e.printStackTrace();
        }

        // íŒŒì¼ì—ì„œ ê°ì²´ë¥¼ ì—­ì§ë ¬í™”í•˜ì—¬ ì½ì–´ì˜´
        Person loadedPerson = null;
        try (FileInputStream fileIn = new FileInputStream(&quot;serialized_person.ser&quot;);
             ObjectInputStream in = new ObjectInputStream(fileIn)) {
            
            loadedPerson = (Person) in.readObject();
            System.out.println(&quot;Person ê°ì²´ë¥¼ ì—­ì§ë ¬í™”í–ˆìŠµë‹ˆë‹¤.&quot;);
        } catch (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }

        // ì—­ì§ë ¬í™”ëœ Person ê°ì²´ ì •ë³´ ì¶œë ¥
        if (loadedPerson != null) {
            System.out.println(&quot;ì´ë¦„: &quot; + loadedPerson.getName());
            System.out.println(&quot;ë‚˜ì´: &quot; + loadedPerson.getAge());
        }
    }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ìš”ì•½&quot;&gt;ìš”ì•½&lt;/h3&gt;

&lt;p&gt;ì˜¤ë¸Œì íŠ¸ë¥¼ ì§ë ¬í™”í•˜ê³  ì—­ì§ë ¬í™”í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” í¬ë§·ì„ êµ‰ì¥íˆ ë§ë‹¤. í•˜ì§€ë§Œ í•µì‹¬ì€ &lt;strong&gt;ì¶”ìƒì ì¸ ì˜¤ë¸Œì íŠ¸ë¥¼ êµ¬ì²´ì ì´ê³  ì €ì¥ê°€ëŠ¥í•œ í˜•íƒœë¡œ ì •ë³´ë¥¼ ë°”ê¾¸ì–´ ì£¼ëŠ” ì—­í• &lt;/strong&gt;ì„ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ì°¸ê³ &quot;&gt;ì°¸ê³ &lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=qrQZOPZmt0w&quot;&gt;https://www.youtube.com/watch?v=qrQZOPZmt0w&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.boardinfinity.com/blog/serialization-in-java/&quot;&gt;https://www.boardinfinity.com/blog/serialization-in-java/&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ë¹…í…Œí¬ ìˆ˜ì„ ê°œë°œìê°€ ì•Œë ¤ì£¼ëŠ” ì¼(ì½”ë”©) ì˜í•˜ëŠ” ë°©ë²•</title>
   <link href="http://localhost:4000/2024/09/11/%EB%B9%85%ED%85%8C%ED%81%AC-%EC%88%98%EC%84%9D-%EA%B0%9C%EB%B0%9C%EC%9E%90%EA%B0%80-%EC%95%8C%EB%A0%A4%EC%A3%BC%EB%8A%94-%EC%9D%BC-%EC%BD%94%EB%94%A9-%EC%9E%98%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95"/>
   <updated>2024-09-11T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/09/11/ë¹…í…Œí¬ ìˆ˜ì„ ê°œë°œìê°€ ì•Œë ¤ì£¼ëŠ” ì¼(ì½”ë”©) ì˜í•˜ëŠ” ë°©ë²•</id>
   <content type="html">&lt;h1 id=&quot;20240911---ë¹…í…Œí¬-ìˆ˜ì„-ê°œë°œìê°€-ì•Œë ¤ì£¼ëŠ”-ì¼ì½”ë”©-ì˜í•˜ëŠ”-ë°©ë²•&quot;&gt;2024.09.11 - ë¹…í…Œí¬ ìˆ˜ì„ ê°œë°œìê°€ ì•Œë ¤ì£¼ëŠ” ì¼(ì½”ë”©) ì˜í•˜ëŠ” ë°©ë²•&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;ìš°ì—°íˆ ìœ íŠœë¸Œë¥¼ ë³´ëŠ” ì™€ì¤‘ì— í¥ë¯¸ë¡œìš´ ì¸ë„¤ì¼ì„ ë³´ê³  ë„ì €íˆ ì§€ë‚˜ì¹  ìˆ˜ ì—†ì–´ ì‹œì²­í–ˆëŠ” ë° ë„ˆë¬´ë‚˜ ì¸ìƒ ê¹Šê³  ê³µê°ë˜ëŠ” ì´ì•¼ê¸°ê°€ ë§ì•„ ìŠê³  ì‹¶ì§€ ì•Šì•„ì„œ ì„±ì¥ì¼ê¸°ì— ì ì–´ë³´ì•˜ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;600&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;https://github.com/user-attachments/assets/5843db49-8bbe-4776-b5a2-119b2654ff15&quot; /&gt;
&lt;/p&gt;

&lt;h2 id=&quot;ì´-ì¼-ì–¼ë§ˆë‚˜-ê±¸ë¦´-ê²ƒ-ê°™ì•„ìš”&quot;&gt;ì´ ì¼ ì–¼ë§ˆë‚˜ ê±¸ë¦´ ê²ƒ ê°™ì•„ìš”?&lt;/h2&gt;

&lt;p&gt;ê²°ë¡ ì€ ì´ë ‡ê²Œ ì§ˆë¬¸ì´ ì˜¤ë©´ ë°”ë¡œ ëŒ€ë‹µí•  í•„ìš”ê°€ ì—†ë‹¤. ìƒí™©ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ ì œê°€ ì¡°ê¸ˆ ë” ì¡°ì‚¬í•´ë³´ê³  ì˜¤ëŠ˜ ë°¤ í˜¹ì€ í‡´ê·¼ ì „ì— ì•Œë ¤ì£¼ê² ë‹¤ ë¼ê³  í•˜ëŠ” ê²Œ ì¢‹ë‹¤.
PM ì´ë‚˜ ìƒê¸‰ìê°€ ì´ë ‡ê²Œ ì§ˆë¬¸ì„ í–ˆì„ ë•Œ, ë‚˜ì˜ ë°˜ì‘ì€ ë‘ ê°€ì§€ ì¤‘ í•˜ë‚˜ì˜€ë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ëŒ€ë‹µì„ ë§ì„¤ì´ê±°ë‚˜ ì´ëŸ¬ë©´ ë³´í†µ ìƒëŒ€ë°©ì—ì„œ â€œí•˜ë£¨ì•ˆì— ê°€ëŠ¥í•˜ì£ ? ë‚´ì¼ê¹Œì§€ ë˜ì£ ?â€ ë¼ê³  ì§ˆë¬¸ì´ ë“¤ì–´ì˜¤ë©´ â€œë‚´ì¼ê¹Œì§€ëŠ” ë˜ì£ â€ ë¼ê³  ëŒ€ë‹µí•´ë²„ë¦¬ê³  ë§Œë‹¤.&lt;/li&gt;
  &lt;li&gt;ê¹Šê²Œ ê³ ë¯¼í•˜ì§€ ì•Šê³  ì–´ë¦¼ ì§ì‘ìœ¼ë¡œ ëŒ€ë‹µí–ˆì—ˆë‹¤.(ë‚˜ì¤‘ì— ë³´ë©´ êµ‰ì¥íˆ íƒ€ì´íŠ¸í•œ ì¼ì •ì´ì˜€ë‹¤.)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì‚¬ì‹¤ ì§€ê¸ˆ ìƒê°í•´ë³´ë©´ ì© ì¢‹ì€ ëŒ€ë‹µì€ ì•„ë‹ˆë¼ê³  ìƒê°ì´ ë“ ë‹¤. ì™œëƒí•˜ë©´&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;1ë²ˆì˜ ê²½ìš° ì¼ì„ ëë‚´ì§€ ëª»í–ˆì„ ë•Œ ëŒ€í•œ &lt;strong&gt;ë‚˜ì— ëŒ€í•œ ê¸°ëŒ€ì¹˜ì™€ ì‹ ë¢°ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤&lt;/strong&gt;. ë§¤ë‹ˆì§•í•˜ëŠ” ì…ì¥ì—ì„œë„ í•˜ë£¨ë©´ ê°„ë‹¨í•œ ì¼ì´ë¼ê³  ìƒê°í–ˆì„ í…ë° ëë‚˜ì§€ ì•Šì€ ëª¨ìŠµì„ ë³´ë©´ ê¸°ëŒ€ì¹˜ê°€ ë‚®ì•„ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤. ì–´ë–»ê²Œ ë³´ë©´ ìƒëŒ€ë°©ì— ëŒ€í•œ ë‚˜ì˜ ê¸°ëŒ€ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´ ì‹œì‘í•œ ë§ì´ ë‚˜ì¤‘ì—ëŠ” ì˜¤íˆë ¤ ìƒëŒ€ë°©ì˜ ê¸°ëŒ€ì¹˜ë¥¼ ë‚®ì¶”ê²Œ í•˜ëŠ” ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;2ë²ˆì˜ ê²½ìš° í”„ë¡œíŒ¨ì…”ë…ˆí•˜ì§€ ëª»í•˜ë‹¤. ìƒëŒ€ë°©ì€ ë‚´ê°€ ëŒ€ë‹µí•˜ëŠ” ê²ƒì— ë”°ë¼ì„œ ì¶”ê°€ì  ì¸ ì¼ì •ì„ ìƒê°í•  ìˆ˜ ìˆëŠ” ë° ë‚´ê°€ ì˜ ëª» ëŒ€ë‹µí•´ì„œ ìƒëŒ€ë°©ì˜ ì¼ì •ë„ ë§ê°€ì§€ê²Œ ëœë‹¤. ì´ê±´ &lt;strong&gt;ìƒëŒ€ë°©ì„ ë°°ë ¤í•˜ëŠ” ëª¨ìŠµì´ ì•„ë‹ˆë‹¤&lt;/strong&gt;.
ì»¤ë¦¬ì–´ë¥¼ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ì˜ìš•ì´ ì•ì„œê¸° ë•Œë¬¸ì— ìŠ¤ìŠ¤ë¡œ ì–´ë–»ê²Œë“  í•´ê²°í•  ìˆ˜ë„ ìˆëŠ” ë° ì´ ê²½ìš°ì—ëŠ” ë³„ë¡œ ì¢‹ì€ í•´ê²°ë°©ë²•ì´ ì•„ë‹ˆë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì´í•œê²° ì—”ì§€ë‹ˆì–´&lt;br /&gt;
â€œë§Œì•½ ì˜ ëª¨ë¥´ê² ìœ¼ë©´ ê·¸ ìë¦¬ì—ì„œ ë°”ë¡œ ë‹µí•˜ì§€ ë§ê³  í‡´ê·¼í•˜ê¸° ì „ê¹Œì§€ íŒŒì•…í•´ì„œ ì•Œë ¤ì£¼ê² ë‹¤ ë¼ê³  ë§í•œ ë’¤ ì˜ˆìƒë˜ëŠ” ì‹œê°„ì— 3ë°°ì •ë„ ê±¸ë¦´ ê²ƒ ê°™ë‹¤ ë¼ê³  ë§í•˜ë©´ ì¢‹ë‹¤â€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;â€œê¸°ëŒ€ì¹˜ë¥¼ ë‚®ì¶”ê³  íŒŒì´ë£°(3.14)ë¥¼ í™œìš©í•´ë¼(ì˜ˆìƒë˜ëŠ” ì—…ë¬´ ì‹œê°„ì— * 3 ì„ í•˜ëŠ” ê²ƒâ€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ê³±í•˜ê¸° 3ì´ë¼ë‹ˆ ë„ˆë¬´ ë§ì€ ê±° ì•„ë‹ˆì•¼?
ë§Œì•½ ìƒê¸‰ ì—”ì§€ë‹ˆì–´ê°€ 3ì¼ì´ ì•„ë‹ˆë¼ í•˜ë£¨ ì •ë„ ê±¸ë¦´ ê²ƒ ê°™ì€ë°? ë¼ê³  í•œë‹¤ë©´? 
ë³´í†µ ë‚˜ì˜ ê²½ìš°ë„ í•˜ë£¨ë§Œì— í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ê³  ëŒ€ë‹µí–ˆë˜ ê²ƒ ê°™ë‹¤.
ì™ ì§€ ì‹œë‹ˆì–´ê°€ ê·¸ë ‡ê²Œ ë§í•œë‹¤ë©´ ê·¸ëŸ°  ì´ìœ ê°€ ìˆì§€ ì•Šì„ê¹Œ? ë¼ê³  ìƒê°í•˜ë©´ì„œ ìˆ˜ê¸í•˜ë©´ì„œ ì‹œê°„ì„ ì¤„ì—¬ê°€ë©´ì„œ ì¼ì„ í–ˆë˜ ê²ƒ ê°™ë‹¤. ì§€ê¸ˆ ìƒê°í•´ë³´ë©´ ì™œ ê·¸ë ‡ê²Œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ë°–ì— ì—†ëŠ” ì§€ ìƒê¸‰ìì—ê²Œ ë¬¼ì–´ë³´ì§€ ì•Šì€ ë‚˜ë¥¼ ë°˜ì„±í•˜ê²Œ ë˜ì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¨¸ë¦¬ì†ìœ¼ë¡œëŠ” ì´í•´í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì €ë ‡ê²Œ í–‰ë™í•  ìˆ˜ ìˆì„ì§€ëŠ” í™•ì‹ í•˜ì§€ëŠ” ì•Šì§€ë§Œ .. ğŸ˜‚&lt;/p&gt;

&lt;h3 id=&quot;ì°¸ì¡°&quot;&gt;ì°¸ì¡°&lt;/h3&gt;
&lt;hr /&gt;
&lt;p&gt;https://www.youtube.com/watch?v=J3Fd5HjWsvE&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>2024 DLCA Tech-Tree CON ì»¨í¼ëŸ°ìŠ¤ í›„ê¸° - ì²« ì»¨í¼ëŸ°ìŠ¤ ë°©ë¬¸ ğŸ˜„</title>
   <link href="http://localhost:4000/2024/09/11/2024-dlca-tech-tree-con-%EC%BB%A8%ED%8D%BC%EB%9F%B0%EC%8A%A4-%ED%9B%84%EA%B8%B0"/>
   <updated>2024-09-11T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/09/11/2024 DLCA Tech-Tree CON ì»¨í¼ëŸ°ìŠ¤ í›„ê¸°</id>
   <content type="html">&lt;h2 id=&quot;2024-dlca-tech-tree-con-ì»¨í¼ëŸ°ìŠ¤-í›„ê¸°---ì²«-ì»¨í¼ëŸ°ìŠ¤-ë°©ë¬¸-&quot;&gt;2024 DLCA Tech-Tree CON ì»¨í¼ëŸ°ìŠ¤ í›„ê¸° - ì²« ì»¨í¼ëŸ°ìŠ¤ ë°©ë¬¸ ğŸ˜„&lt;/h2&gt;

&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;500&quot; alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/tech_conference_index.png&quot; /&gt;
&lt;br /&gt;
  &lt;em&gt;ì„¸ì…˜ ëª©ë¡ë“¤ì´ë‹¤. ê°€ìˆ˜ë¶„ë„ ë‚˜ì˜¨ë‹¤ê³  í•˜ì…”ì„œ ë†€ëë‹¤&lt;/em&gt;   
&lt;/p&gt;

&lt;p&gt;ë‚´ê°€ ê°€ê³  ì‹¶ì€ í…Œí¬ ì»¨í¼ëŸ°ìŠ¤ë¥¼ ì°¾ë˜ ì™€ì¤‘ ë§ˆìŒì— ë“œëŠ” ì„¸ì…˜ì´ ë³´ì—¬ ë°”ë¡œ ì‹ ì²­í–ˆë‹¤.
íŠ¹íˆ ë¯¸ë˜ì˜ ê°œë°œìì˜ ì»¤ë¦¬ì–´ë¥¼ ì–´ë–»ê²Œ ìŒ“ìœ¼ë©´ ì¢‹ì„ê¹Œë¥¼ ê³ ë¯¼í–ˆì—ˆëŠ” ë° ë§ˆì¹¨ ë‚˜ì—ê²Œ ë”± ë§ëŠ” ì£¼ì œê°€ ë³´ì—¬ì„œ ê³ ë¯¼ ì—†ì´ ì‹ ì²­í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;del&gt;ë¬¼ë¡  ë¼ì´ë¸Œ ë‹¤ì‹œë³´ê¸°ë¡œë„ ë³¼ ìˆ˜ ìˆì§€ë§Œ ì§ì ‘ ê°€ì„œ í˜„ì¥ì˜ ë¶„ìœ„ê¸°ë¥¼ ëŠê»´ë³´ê³  ì‹¶ì—ˆë‹¤. í˜„ì¥ì—ì„œëŠ” ë°”ë¡œ ì•ìë¦¬ì— ì•‰ì„ ìˆ˜ ìˆì–´ì„œ ë„ˆë¬´ ì¢‹ì•˜ë‹¤ ğŸ˜ƒ&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;íŠ¹íˆ í…Œì˜¤ë‹˜ê³¼ ì´ë™ìš±(í–¥ë¡œ)ë‹˜ ê°™ì€ ê²½ìš°ì—ëŠ” ë„ˆë¬´ ìœ ëª…í•˜ì…”ì„œ ê¼­ ì§ì ‘ ë³´ê³  ì‹¶ì€ ë§ˆìŒë„ ìˆì—ˆë‹¤. 
í•˜ì§€ë§Œ ë©´ì ‘ ë•Œë¬¸ì— í…Œì˜¤ë‹˜ ì„¸ì…˜ì„ ì²˜ìŒë¶€í„° ë“£ì§€ ëª»í•œ ê²Œ ë„ˆë¬´ ì•„ì‰¬ì› ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë°°ìš´-ê²ƒ&quot;&gt;ë°°ìš´ ê²ƒ&lt;/h3&gt;

&lt;p align=&quot;center&quot;&gt;
  &amp;lt;img width=70% alt=&quot;á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-11 á„‹á…©á„’á…® 8 05 07&quot; src=&quot;/assets/images/IMG_5306.JPG&quot;&amp;gt;
&lt;br /&gt;


&lt;!-- ~~ìš©íƒœë‹˜ ì„¸ì…˜ì€ ì¤‘ê°„ë¶€í„° ì°¸ì—¬í•´ì„œ ì „ë¶€ ë“£ì§€ëŠ” ëª»í–ˆì§€ë§Œ~~ ì¸ìƒê¹Šì—ˆë˜ ë§ë“¤ì„ ê°€ì ¸ì™€ë´¤ë‹¤.  --&gt;
&amp;gt; _**ê°œë°œë§Œ í•˜ê³  ì‹¶ì€ ê²Œ ë‹¤ë¥¸ ê±¸ ìê¾¸ ì‹œì¼œìš”? ì—¬ëŸ¬ë¶„ ê·¸ëŸ° ê²ƒë„ ë‹¤ ê°œë°œì´ì˜ˆìš”. ì½”ë“œë§Œ ì‘ì„±í•˜ê³  ê·¸ëŸ° ê²ƒë§Œ ê°œë°œì¸ ê²Œ ì•„ë‹ˆì˜ˆìš”. íšŒì˜í•˜ê³  ê³ ë¯¼í•˜ê³  ë“±ë“± ëª¨ë‘ ë‹¤ ê°œë°œí•˜ê³  ìˆëŠ” ê±°ì˜ˆìš”**_ &lt;br /&gt; - _ìœ ìš©íƒœ(í…Œì˜¤)_
&amp;gt; &lt;br /&gt;&lt;br /&gt;
&amp;gt; _**ì œì–´í•  ìˆ˜ ì—†ëŠ” ê²ƒì— í˜ì“°ëŠ” 
ê²ƒì´ ì•„ë‹ˆë¼ ë‚´ê°€ ì œì–´í•  ìˆ˜ ê²ƒì— í˜ì„ ì“°ì.**_ &lt;br /&gt; - _ì´ë™ìš±(í–¥ë¡œ)_
&amp;gt; &lt;br /&gt;&lt;br /&gt;
&amp;gt; _**ë§¹ê·€ìš°ëª©(ç›²é¾œé‡æœ¨) ì— ë‚˜ì˜¤ëŠ” ê±°ë¶ì´ ì²˜ëŸ¼ íŒŒë„ê°€ ì³ì„œ ë– ë‚´ë ¤ ê°„ë‹¤ê³  í•´ë„ ì—´ì‹¬íˆ ë…¸ë ¥í•˜ë‹¤ ë³´ë©´ ê²°êµ­ì—ëŠ” ì„¬ì— ë„ì°©í•˜ê²Œ ë˜ìˆì–´ìš”.**_ &lt;br /&gt;- _ì´ì¥ì›(í˜í¼í†¤ìŠ¤)_

ë¹„ë¡ ìƒí™©ì´ ì¢‹ì§€ ì•Šë”ë¼ë„, ê·¸ ìƒí™© ì†ì—ì„œ ë‚´ê°€ ì œì–´í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ì—†ëŠ” ê²ƒì„ ì°¾ì•„ì„œ, ì œì–´í•  ìˆ˜ ìˆë‹¤ë©´ ê·¸ ë¶€ë¶„ì—ì„œ ìµœì„ ì„ ë‹¤í•´ ì„±ê³¼ë¥¼ ë‚´ëŠ” ê²ƒì´ ë§ë‹¤.
ë§Œì•½ ë‚´ê°€ ì–´ë–¤ íšŒì‚¬ë¥¼ ê°”ëŠ”ë° ì‚¬ìˆ˜ê°€ ì—†ë‹¤ë©´, ê°œë°œ í™˜ê²½ì´ ì¢‹ì§€ ëª»í•˜ë‹¤ë©´, ì˜¨ë³´ë”©ë„ ì œëŒ€ë¡œ ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´, ê·¸ë ‡ë‹¤ë©´ ë¨¼ì € ì œì–´í•  ìˆ˜ ìˆëŠ” ê²ƒê³¼ ì œì–´í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ë‚˜ëˆ„ì–´ì„œ

ì´ë ‡ê²Œ ì„±ì¥ í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì´ ë˜ì§€ ëª»í•œë‹¤ë©´ ë‚´ê°€ ìŠ¤ìŠ¤ë¡œ ë‚˜ì„œì„œ ìŠ¤í„°ë””ë¥¼ ëª¨ì§‘í•˜ê±°ë‚˜ ì¢‹ì€ ë¬¸í™”ë¥¼ ì „íŒŒì‹œì¼œ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.  
(ì‹¤ì œ ë™ìš±ë‹˜ë„ ê°œë°œìë“¤ì´ ì „ë¶€ í‡´ì‚¬í•˜ê³  ìŠ¤ìŠ¤ë¡œ ì¢‹ì€ ê°œë°œë¬¸í™”ë¥¼ ë§Œë“¤ë ¤ê³  ë…¸ë ¥í–ˆê³  ë™ë£Œë“¤ì—ê²Œ ë¨¼ì € ì „íŒŒí•˜ë ¤ê³  í•˜ì…¨ë‹¤.)

&lt;div align=&quot;center&quot;&gt;
    &amp;lt;img src=&quot;/assets/images/IMG_5309.jpg&quot; width=30%  align=&quot;center&quot;&amp;gt;
    &amp;lt;img src=&quot;/assets/images/IMG_5322.jpg&quot; width=30%  align=&quot;center&quot;&amp;gt;
&lt;/div&gt;
&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>[Spring] @RestControllerAdviceì—ì„œ body ë¡œê¹…ìœ¼ë¡œ ë‚¨ê¸°ê¸°</title>
   <link href="http://localhost:4000/2024/05/11/spring-restcontrolleradvice-%EC%97%90%EC%84%9C-body-%EB%A1%9C%EA%B9%85%EC%9C%BC%EB%A1%9C-%EB%82%A8%EA%B8%B0%EA%B8%B0"/>
   <updated>2024-05-11T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/05/11/[Spring] @RestControllerAdvice ì—ì„œ body ë¡œê¹…ìœ¼ë¡œ ë‚¨ê¸°ê¸°</id>
   <content type="html">&lt;h1 id=&quot;20240511-----restcontrolleradvice-ì—ì„œ-body-ë¡œê¹…ìœ¼ë¡œ-ë‚¨ê¸°ê¸°md&quot;&gt;2024.05.11 -  ğŸŒ± @RestControllerAdvice ì—ì„œ body ë¡œê¹…ìœ¼ë¡œ ë‚¨ê¸°ê¸°.md&lt;/h1&gt;

&lt;h2 id=&quot;ì‚¬ê±´ì˜-ë°œë‹¨&quot;&gt;ì‚¬ê±´ì˜ ë°œë‹¨&lt;/h2&gt;
&lt;p&gt;í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ì—ì„œëŠ” @RestControllerAdvice ë¥¼ ì´ìš©í•˜ì—¬ ì˜ˆì™¸ë¥¼ ì „ì—­ìœ¼ë¡œ ì²˜ë¦¬í•˜ê³  ìˆë‹¤.&lt;br /&gt;
ì˜ˆì™¸ê°€ ë‚¬ì„ ë•Œ ì–´ë–¤ ìš”ì²­ê°’ì´ ë“¤ì–´ì™€ì„œ ì˜ˆì™¸ê°€ ë°œìƒí–ˆëŠ” ì§€ ë¡œê·¸ë¡œ ë‚¨ê¸°ê³  ì‹¶ì–´ì„œ request ì˜ body ë¥¼ ì½ê³  ì‹¶ì—ˆìœ¼ë‚˜ ì•„ë¬´ëŸ° ê°’ì´ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nd&quot;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@RestControllerAdvice&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GlobalExceptionHandler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;nd&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;HotelkingException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ErrorContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;handleHotelkingException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;HotelkingException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ErrorCode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getErrorCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;StreamUtils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;copyToString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;StandardCharsets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;UTF_8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;body = {}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ìŠ¬í”„ê²Œë„ ì•„ë¬´ê²ƒë„ ì•ˆë‚˜ì˜¨ë‹¤.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getHttpStatus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ErrorContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;nd&quot;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;HttpMessageNotReadableException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ErrorContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;handleHttpMessageNotReadableException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;HttpMessageNotReadableException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nc&quot;&gt;ErrorCode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ErrorCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;NOT_READABLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printLog&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ResponseEntity&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ErrorCode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;NOT_READABLE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getHttpStatus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ApiResponse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ErrorContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)));&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;HttpServletRequest ì—ì„œ ë‹¤ì‹œ í•œë²ˆ InputStream ì„ ì´ìš©í•˜ì—¬ body ë¥¼ ì½ìœ¼ë ¤ê³  í–ˆì§€ë§Œ ì•„ë¬´ê²ƒë„ ì½ì„ ìˆ˜ ì—†ì—ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;httpservletrequest-ì—ì„œ-ê°’ì„-ì½ì„-ë•ŒëŠ”-ë‚´ë¶€ì ìœ¼ë¡œ-inputstream-ì„-ì‚¬ìš©í•œë‹¤&quot;&gt;HttpServletRequest ì—ì„œ ê°’ì„ ì½ì„ ë•ŒëŠ” ë‚´ë¶€ì ìœ¼ë¡œ InputStream ì„ ì‚¬ìš©í•œë‹¤.&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;The spring-web module contains the HttpMessageConverter interface for reading and writing the body of HTTP requests and responses through InputStream and OutputStream. HttpMessageConverter instances are used on the client side (for concurrency, in the RestClient) and on the server side (for concurrency, in Spring MVC REST controllers).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/bc215933-2cc6-43a4-9a7f-36dc13766dee/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Spring MVC ëŠ” Servlet API ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œë‹¤. Spring MVC ì—ì„œëŠ” Dispatcher Servlet ì´ ê·¸ ì—­í• ì„ ë‹´ë‹¹í•˜ê³  ìˆë‹¤.
Http ìš”ì²­ì„ ë‹¤ë£° ë•Œ HttpServletRequest ì—ì„œ ìš”ì²­ body ë¥¼ ì½ì„ ë•Œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;getInputStream()&lt;/code&gt; ê·¸ë¦¬ê³  &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;getReader()&lt;/code&gt; ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.
ì´ëŸ¬í•œ ê° ë©”ì†Œë“œëŠ” ë™ì¼í•œ InputStream ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— InputStreamì„ í•œ ë²ˆ ì½ìœ¼ë©´ ë‹¤ì‹œ ì½ì„ ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ìˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;contentcachingrequestwrapper&quot;&gt;ContentCachingRequestWrapper&lt;/h2&gt;
&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;ContentCachingRequestWrapper&lt;/code&gt; ëŠ” ìƒì„±ìë¡œ ë°›ì€ HttpServeltRequest ë¥¼ input stream ê³¼ reader ë¡œ ë¶€í„° ëª¨ë“  HttpServletRequest ì»¨í…ì¸ ë¥¼ ìºì‹œí•˜ëŠ” HttpServlerRequest Wrapper í´ë˜ìŠ¤ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ìºì‹œí•œ content ëŠ” byte array í˜•íƒœë¡œ ë‹¤ì‹œ ì–»ì„ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì–»ì„ ë•ŒëŠ” &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;getContentAsByteArray()&lt;/code&gt; ë¥¼ í†µí•´ ë‹¤ì‹œ ì–»ì„ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¤‘ìš”í•œ ê±´ ìš”ì²­ ì»¨í…ì¸ ê°€ consumed ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ì»¨í…ì¸ ëŠ” ìºì‹œë˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ContentCachingRequestWrapper&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HttpServletRequestWrapper&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FastByteArrayOutputStream&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cachedContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ContentCachingRequestWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kd&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
		
		&lt;span class=&quot;c1&quot;&gt;// ìºì‹œ í•˜ëŠ” ë¶€ë¶„&lt;/span&gt;
		&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contentLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getContentLength&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
		
		&lt;span class=&quot;c1&quot;&gt;// content ê°€ ìˆëŠ” ê²½ìš° ìºì‹œí•œë‹¤.&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;cachedContent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentLength&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FastByteArrayOutputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contentLength&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FastByteArrayOutputStream&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;contentCacheLimit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
	
	&lt;span class=&quot;c1&quot;&gt;// ìºì‹œí•œ ì»¨í…ì¸ ë¥¼ ê°€ì ¸ì˜¨ë‹¤.&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getContentAsByteArray&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;cachedContent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toByteArray&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì—„ì²­ íŠ¹ì´í•œ ê±´ ì—†ë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;FastByteArrayOutputStream&lt;/code&gt; ì´ë¼ê³  í•˜ëŠ” OutputStream ì„ extend í•˜ì—¬ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ë¬¸ì„œì—ì„œëŠ” ByteArrayOutputStream ì˜ ëŒ€ì•ˆìœ¼ë¡œ ë‚˜ì™”ë‹¤ê³  í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì°¸ê³ ë¡œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;AbstractRequestLoggingFilter&lt;/code&gt; ì—ì„œë„ ìœ„ì˜ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;ContentCachingRequestWrapper&lt;/code&gt; ê°€ ì‚¬ìš©ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/8eb4fafc-4f37-4855-9bb4-8a8bc838a0d5/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ì ìš©&quot;&gt;ì ìš©&lt;/h2&gt;

&lt;p&gt;Custom Filter ë¥¼ ë§Œë“¤ì–´ ê¸°ì¡´ HttpServletRequest ë¥¼ ìºì‹±í•  ìˆ˜ ìˆë„ë¡ ë“¤ì–´ì˜¨ HttpServletRequest ë¥¼ ì´ìš©í•˜ì—¬ ContentCachingRequestWrapper ê°ì²´ë¥¼ ë§Œë“  í›„ doFilterë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CachingFilter&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;OncePerRequestFilter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

  &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;doFilterInternal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HttpServletResponse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nc&quot;&gt;FilterChain&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filterChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ServletException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;filterChain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;doFilter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ContentCachingRequestWrapper&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ì°¸ê³ &quot;&gt;ì°¸ê³ &lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;https://docs.spring.io/spring-framework/reference/integration/rest-clients.html#rest-message-conversion&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>ë‹¤ì‹œ ê¹¨ë‹«ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ DB ê²©ë¦¬ ë ˆë²¨ì˜ ì¤‘ìš”ì„±</title>
   <link href="http://localhost:4000/2024/02/21/%EB%8B%A4%EC%8B%9C-%EA%B9%A8%EB%8B%AB%EB%8A%94-%EC%98%81%EC%86%8D%EC%84%B1-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%A4%91%EC%9A%94%EC%84%B1"/>
   <updated>2024-02-21T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/02/21/ë‹¤ì‹œ ê¹¨ë‹«ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ì¤‘ìš”ì„±</id>
   <content type="html">&lt;h1 id=&quot;ë‹¤ì‹œê¸ˆ-ê¹¨ë‹«ëŠ”-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸ì™€-db-ê²©ë¦¬-ë ˆë²¨ì˜-ì¤‘ìš”ì„±&quot;&gt;ë‹¤ì‹œê¸ˆ ê¹¨ë‹«ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ DB ê²©ë¦¬ ë ˆë²¨ì˜ ì¤‘ìš”ì„±&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;ë¶„ì‚°ë½(Distributed Lock) ê´€ë ¨ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ë˜ ì¤‘, ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ê°€ ê³„ì† ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸ì„ íŒŒê³ ë“¤ì–´ ë³´ë‹ˆ, ì œê°€ ê°„ê³¼í•˜ê³  ìˆë˜ ì¤‘ìš”í•œ ê°œë…ë“¤ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” ê·¸ ê³¼ì •ì—ì„œ ì–»ì€ êµí›ˆì„ ê³µìœ í•˜ê³ ì í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ê²°ë¡ ë¶€í„° ë§í•˜ìë©´, ë¬¸ì œì˜ ì›ì¸ì€ ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸&lt;/strong&gt;ë¥¼ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í–ˆë˜ ê²ƒ&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Lockì˜ ë²”ìœ„&lt;/strong&gt;ë¥¼ ì˜ëª» ì„¤ì •í–ˆë˜ ê²ƒ&lt;/li&gt;
  &lt;li&gt;(ê°€ì¥ ì¤‘ìš”) MySQL &lt;strong&gt;InnoDB ì—”ì§„ì˜ ê¸°ë³¸ ê²©ë¦¬ ë ˆë²¨(Isolation Level)&lt;/strong&gt;ì„ ê³ ë ¤í•˜ì§€ ì•Šì•˜ë˜ ê²ƒ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;https://www.baeldung.com/wp-content/uploads/2016/10/Hibernate-Persistence-Context-2.png&quot; alt=&quot;ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ì›ì¸-ë¶„ì„-ë°-í•´ê²°-ê³¼ì •&quot;&gt;ì›ì¸ ë¶„ì„ ë° í•´ê²° ê³¼ì •&lt;/h2&gt;

&lt;h3 id=&quot;ë¬¸ì œ-ìƒí™©-ë°ì´í„°-ë¶ˆì¼ì¹˜&quot;&gt;ë¬¸ì œ ìƒí™©: ë°ì´í„° ë¶ˆì¼ì¹˜&lt;/h3&gt;

&lt;p&gt;ë¬¸ì œì˜ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ì•˜ìŠµë‹ˆë‹¤. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;reserve&lt;/code&gt; ë©”ì„œë“œëŠ” &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;roomId&lt;/code&gt;ë¥¼ ë°›ì•„ í•´ë‹¹ ë°©ì˜ ì¬ê³ (&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;RoomStock&lt;/code&gt;)ë¥¼ ê°ì†Œì‹œí‚¤ëŠ” ë¡œì§ì…ë‹ˆë‹¤. ë™ì‹œì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë¶„ì‚°ë½ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Transactional&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;reserve&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 1. ë½ íšë“ ì‹œë„&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ íšë“ ì‹¤íŒ¨&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fail&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ íšë“!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// 2. ì¬ê³  ì¡°íšŒ ë° ê°ì†Œ&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;RoomStock&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findRoomStockByRoomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;roomStock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decrease&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RuntimeException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 3. ë½ í•´ì œ&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;releaseLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ í•´ì œ!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ ì½”ë“œì˜ ê°€ì¥ í° ë¬¸ì œëŠ” &lt;strong&gt;ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸&lt;/strong&gt;ì— ìˆì—ˆìŠµë‹ˆë‹¤. ë½ì„ íšë“í•œ í›„ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;findRoomStockByRoomId&lt;/code&gt; ë©”ì„œë“œë¡œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;RoomStock&lt;/code&gt; ê°ì²´ë¥¼ ì¡°íšŒí•  ë•Œ, JPAëŠ” ë¨¼ì € ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ ìºì‹œ)ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. ë§Œì•½ ì´ì „ì— ê°™ì€ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;roomId&lt;/code&gt;ë¡œ ì¡°íšŒí•œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;RoomStock&lt;/code&gt; ê°ì²´ê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì¡´ì¬í•œë‹¤ë©´, &lt;strong&gt;ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ì‹œ ì¡°íšŒí•˜ì§€ ì•Šê³  ìºì‹œì— ìˆëŠ” ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜&lt;/strong&gt;í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¡œ ì¸í•´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì´ë¯¸ ì¬ê³ ë¥¼ ë³€ê²½í•˜ê³  ì»¤ë°‹í–ˆë”ë¼ë„, í˜„ì¬ ìŠ¤ë ˆë“œëŠ” ë³€ê²½ ì „ì˜ ë°ì´í„°ë¥¼ ê°€ì§€ê³  &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;decrease()&lt;/code&gt; ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ì–´ &lt;strong&gt;ë°ì´í„° ë¶ˆì¼ì¹˜&lt;/strong&gt;ê°€ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì‹œë„-1-ë½-í•´ì œ-ì‹œì -ë³€ê²½&quot;&gt;ì‹œë„ 1: ë½ í•´ì œ ì‹œì  ë³€ê²½&lt;/h3&gt;

&lt;p&gt;ì²˜ìŒì—ëŠ” ë½ì„ ë„ˆë¬´ ë¹¨ë¦¬ í•´ì œí•´ì„œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;commit&lt;/code&gt;ì´ ë˜ê¸° ì „ì— ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë½ì„ íšë“í•˜ê³ , ì•„ì§ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì½ì–´ê°„ë‹¤ê³  ì¶”ì¸¡í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ MySQLì˜ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;general_log&lt;/code&gt;ë¥¼ í™•ì¸í•´ ë³¸ ê²°ê³¼, ê·¸ëŸ° ìƒí™©ì€ ë°œìƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;images/img.png&quot; alt=&quot;MySQL general_log&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ì§„ì§œ-ì›ì¸-repeatable-read-ê²©ë¦¬-ë ˆë²¨&quot;&gt;ì§„ì§œ ì›ì¸: REPEATABLE READ ê²©ë¦¬ ë ˆë²¨&lt;/h3&gt;

&lt;p&gt;ë¬¸ì œì˜ í•µì‹¬ì€ MySQL InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì˜ ê¸°ë³¸ ê²©ë¦¬ ë ˆë²¨ì¸ &lt;strong&gt;REPEATABLE READ&lt;/strong&gt;ì— ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ê²©ë¦¬ ë ˆë²¨ì—ì„œëŠ” &lt;strong&gt;íŠ¸ëœì­ì…˜ì´ ì‹œì‘ë  ë•Œì˜ ë°ì´í„° ìŠ¤ëƒ…ìƒ·&lt;/strong&gt;ì„ ë§Œë“¤ì–´, íŠ¸ëœì­ì…˜ì´ ì§„í–‰ë˜ëŠ” ë™ì•ˆì—ëŠ” í•´ë‹¹ ìŠ¤ëƒ…ìƒ·ì˜ ë°ì´í„°ë§Œ ì½ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ê³  ì»¤ë°‹í•˜ë”ë¼ë„, í˜„ì¬ íŠ¸ëœì­ì…˜ì€ ê·¸ ë³€ê²½ì‚¬í•­ì„ ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ë¡œê·¸ì—ì„œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;1961&lt;/code&gt;ë²ˆ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹í•œ ì´í›„ì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;1962&lt;/code&gt;ë²ˆ íŠ¸ëœì­ì…˜ì´ ë°ì´í„°ë¥¼ ì¡°íšŒí–ˆì§€ë§Œ, &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;1962&lt;/code&gt;ë²ˆ íŠ¸ëœì­ì…˜ì€ ìì‹ ì´ ì‹œì‘ë  ë•Œì˜ ìŠ¤ëƒ…ìƒ·ì„ ê¸°ì¤€ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ì—ˆê¸° ë•Œë¬¸ì— ë³€ê²½ ì „ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í•´ê²°-ë°©ì•ˆ&quot;&gt;í•´ê²° ë°©ì•ˆ&lt;/h2&gt;

&lt;p&gt;ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;ë½ íšë“ í›„, ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ì—ì„œ ì¬ê³  ì¡°íšŒ ë° ê°ì†Œ ë¡œì§ ì‹¤í–‰&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;@Transactional(propagation = Propagation.REQUIRES_NEW)&lt;/code&gt; ì˜µì…˜ì„ ì‚¬ìš©í•˜ì—¬ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;decrease&lt;/code&gt; ë©”ì„œë“œê°€ í•­ìƒ ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ì—ì„œ ì‹¤í–‰ë˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;decrease&lt;/code&gt; ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ì—¬ ìµœì‹  ë°ì´í„°ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ReservationService.java&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ReservationService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RoomStockRepository&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RoomStockService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// ... ìƒì„±ì&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Transactional&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;reserve&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ íšë“ ì‹¤íŒ¨&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;fail&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ íšë“!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// ë³„ë„ì˜ íŠ¸ëœì­ì…˜ì„ ê°€ì§„ ì„œë¹„ìŠ¤ ë©”ì„œë“œ í˜¸ì¶œ&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;roomStockService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decrease&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RuntimeException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;releaseLock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;valueOf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë½ í•´ì œ!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;success&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// RoomStockService.java&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RoomStockService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RoomStockRepository&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// ... ìƒì„±ì&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Transactional&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;propagation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Propagation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;REQUIRES_NEW&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decrease&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nc&quot;&gt;RoomStock&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findRoomStockByRoomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;orElseThrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;roomStock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;decrease&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;// ë³€ê²½ì‚¬í•­ì„ ì¦‰ì‹œ DBì— ë°˜ì˜&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;roomStockRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;saveAndFlush&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;roomStock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;RuntimeException&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ì¶”ê°€-ê³ ë ¤ì‚¬í•­-ì˜ì†ì„±-ì»¨í…ìŠ¤íŠ¸-ìŠ¤ì½”í”„&quot;&gt;ì¶”ê°€ ê³ ë ¤ì‚¬í•­: ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ìŠ¤ì½”í”„&lt;/h2&gt;

&lt;p&gt;JPAì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ &lt;strong&gt;íŠ¸ëœì­ì…˜ ìŠ¤ì½”í”„(Transaction-Scoped)&lt;/strong&gt;ë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì¦‰, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª…ì£¼ê¸°ëŠ” íŠ¸ëœì­ì…˜ì˜ ìƒëª…ì£¼ê¸°ì™€ ë™ì¼í•©ë‹ˆë‹¤. íŠ¸ëœì­ì…˜ì´ ì‹œì‘ë  ë•Œ ìƒì„±ë˜ê³ , íŠ¸ëœì­ì…˜ì´ ëë‚  ë•Œ(ì»¤ë°‹ ë˜ëŠ” ë¡¤ë°±) ì‚¬ë¼ì§‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;@PersistenceContext&lt;/code&gt; ì–´ë…¸í…Œì´ì…˜ì˜ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;type&lt;/code&gt; ì†ì„±ì„ í†µí•´ &lt;strong&gt;í™•ì¥ ìŠ¤ì½”í”„(Extended-Scoped)&lt;/strong&gt;ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. í™•ì¥ ìŠ¤ì½”í”„ëŠ” ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì— ê±¸ì³ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆê²Œ í•´ì£¼ì§€ë§Œ, ëª…ì‹œì ìœ¼ë¡œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;flush&lt;/code&gt;ë¥¼ í˜¸ì¶œí•´ì•¼ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ë¯€ë¡œ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@Repeatable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;PersistenceContexts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TYPE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;METHOD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FIELD&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Retention&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;RUNTIME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PersistenceContext&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

   &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;

   &lt;span class=&quot;cm&quot;&gt;/**
    * (Optional) Specifies whether a transaction-scoped persistence context 
    * or an extended persistence context is to be used.
    */&lt;/span&gt;
   &lt;span class=&quot;nc&quot;&gt;PersistenceContextType&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PersistenceContextType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;TRANSACTION&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
   
   &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ë²ˆ ê²½í—˜ì„ í†µí•´ ë™ì‹œì„± ë¬¸ì œë¥¼ ë‹¤ë£° ë•ŒëŠ” ì½”ë“œ ë¡œì§ë¿ë§Œ ì•„ë‹ˆë¼, JPAì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê²©ë¦¬ ë ˆë²¨ê¹Œì§€ ê¹Šì´ ìˆê²Œ ì´í•´í•˜ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€ ë‹¤ì‹œ í•œë²ˆ ê¹¨ë‹«ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>AWS Lambdaë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì ìš©ê¸°</title>
   <link href="http://localhost:4000/2024/02/21/lamda-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EB%A6%AC%EC%82%AC%EC%9D%B4%EC%A7%95-%EC%A0%81%EC%9A%A9%EA%B8%B0"/>
   <updated>2024-02-21T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/02/21/Lamda ë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì ìš©ê¸°</id>
   <content type="html">&lt;h1 id=&quot;20240221---aws-lambda-ë¥¼-í™œìš©í•œ-ì´ë¯¸ì§€-ë¦¬ì‚¬ì´ì§•-ì ìš©ê¸°&quot;&gt;2024.02.21 - AWS Lambda ë¥¼ í™œìš©í•œ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì ìš©ê¸°&lt;/h1&gt;

&lt;h3 id=&quot;ë“¤ì–´ê°€ë©´ì„œ&quot;&gt;ë“¤ì–´ê°€ë©´ì„œ&lt;/h3&gt;

&lt;p&gt;í˜„ì¬ ì§„í–‰í•˜ê³  ìˆëŠ” í”„ë¡œì íŠ¸ì—ëŠ” ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ì´ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ API í‚¤ë¥¼ ì´ìš©í•˜ì—¬ Cloudnary ì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ í•œ í›„ ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€ URIì™€ í¬ìŠ¤íŒ…í•˜ë ¤ê³  í•˜ëŠ” ë‚´ìš©ê³¼ í•¨ê»˜ ì„œë²„ì— ë“±ë¡í•˜ëŠ” ë°©ì‹ì´ë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ë‹¤ì†Œ ë¬¸ì œê°€ ì¼ì–´ë‚  ìš”ì§€ê°€ ìˆì–´ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê³¼ì •ì„ ê°œì„ í•´ë³´ì•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë¬¸ì œ&quot;&gt;ë¬¸ì œ&lt;/h3&gt;

&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ (í”„ë¡ íŠ¸ì—”ë“œ) ê°€ ë¯¸ë¦¬ ì •ì˜ëœ API í‚¤ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ì„œë²„ (&lt;strong&gt;Cloudnary&lt;/strong&gt;) ì— ì´ë¯¸ì§€ë¥¼ ë°”ë¡œ ì €ì¥í•˜ê³  ìˆë‹¤. ì¦‰, í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¯¸ì§€ ì €ì¥ì— ëŒ€í•œ ëª¨ë“  ê¶Œí•œì„ ê°€ì§€ê³  ìˆëŠ” ì…ˆì´ë‹¤. ì´ë•Œ API í‚¤ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë˜ì–´ìˆê¸°ë•Œë¬¸ì— KEYê°€ íƒˆì·¨ëœë‹¤ë©´ ì–¸ì œë“ ì§€ ëˆ„êµ°ê°€ ì‚¬ìš©í•´ì„œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ í•  ìˆ˜ ìˆëŠ” ë¬¸ì œê°€ ìƒê¸´ë‹¤.
ë˜í•œ í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆëŠ” ìµœëŒ€ 500px ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ì›ë³¸ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•œ í›„ ì €ì¥ëœ ì›ë³¸ì´ë¯¸ì§€ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ì›ë³¸ ì‚¬ì´ì¦ˆ í¬ê¸°ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë¶ˆí•„ìš”í•˜ê²Œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ìš©ëŸ‰ì„ ë‚­ë¹„í•˜ê³  ìˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ë³´ì•ˆì ì¸ ë¬¸ì œë¡œ ì¸í•´ í´ë¼ì´ì–¸íŠ¸ê°€ ì•„ë‹Œ ì„œë²„ì—ì„œ ì´ë¯¸ì§€ ì €ì¥ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ë‚­ë¹„ë¥¼ ë°©ì§€í•˜ê³ ì ìš”ì²­í•  ë•ŒëŠ” ë¦¬ì‚¬ì´ì§•ëœ ì‘ì€ ì‚¬ì´ì¦ˆì˜ ì´ë¯¸ì§€ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;í•´ê²°&quot;&gt;í•´ê²°&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;S3 ì´ë¯¸ì§€ ì €ì¥ì— ëŒ€í•œ ê¶Œí•œì€ ì¼ì‹œê°„ë™ì•ˆë§Œ ì‚¬ìš©ê°€ëŠ¥í•œ ì—…ë¡œë“œ ìš© Presigned URI ë¥¼ ë§Œë“¤ì–´ í•´ë‹¹ URIë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ í•  ìˆ˜ ìˆê²Œ í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì—…ë¡œë“œì— ëŒ€í•œ ëª¨ë“  ê¶Œí•œì„ ê°€ì§ˆ ìˆ˜ ì—†ë„ë¡ í•˜ì˜€ë‹¤.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;API ì„œë²„ì—ì„œ í•˜ì§€ ì•Šì•„ë„ ì™¸ë¶€ì—ì„œ ë¦¬ì‚¬ì´ì§• ì‘ì—…ì„ í•  ìˆ˜ ìˆê¸° ìœ„í•´ì„œ S3 ì™€ Lambda ë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•˜ì˜€ë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ í•´ê²°ì€ ì‰½ê²Œ ë‚˜ì˜¤ì§„ ì•Šì•˜ë‹¤. ì•„ë˜ì˜ ìƒí™©ì„ ê³ ë ¤í•œ í›„ ìµœì¢…ì ìœ¼ë¡œ S3 ì™€ Lambda, API Gateway ë¥¼ ì´ìš©í•œ ì´ë¯¸ì§€ ì²˜ë¦¬ë°©ì‹ì„ ì±„íƒí•˜ì˜€ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë°©ì•ˆ-1&quot;&gt;ë°©ì•ˆ 1&lt;/h3&gt;
&lt;p&gt;ë¨¼ì € ì²˜ìŒ ìƒê°í•œ ì´ë¯¸ì§€ ì²˜ë¦¬ ë°©ì‹ì´ë‹¤.
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/39d255a6-d037-4aa2-840b-440147e60296/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì§ê´€ì ìœ¼ë¡œ ìƒê°í•œ ë°©ì‹ì´ë‹¤.
í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¯¸ì§€(ìµœëŒ€ 3ê°œê¹Œì§€) multipart ë°©ì‹ìœ¼ë¡œ API ì„œë²„ë¡œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œ í•˜ë©´, ì„œë²„ëŠ” S3ì— ê¶Œí•œì„ ê°€ì§„ IAM ì‚¬ìš©ìì˜ AccessKey ì™€ SecretKey ë¥¼ ì´ìš©í•˜ì—¬ S3ì— ì´ë¯¸ì§€ë¥¼ ì €ì¥í•œë‹¤.
ì €ì¥ í›„ì—ëŠ” ì €ì¥ëœ S3 ì´ë¯¸ì§€ URIë¥¼ ì €ì¥í•˜ë ¤ê³  í•˜ëŠ” ì»¨í…ì¸  ì •ë³´ì™€ í•¨ê»˜ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê³¼ì •ì´ ëª¨ë‘ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì— ì„±ê³µ ì‘ë‹µ(200)ì„ í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë ‡ê²Œ í•œë‹¤ë©´ ì´ë¯¸ì§€ ì €ì¥ì— ëŒ€í•œ ê¶Œí•œì€ ì„œë²„ì— ìˆê¸° ë•Œë¬¸ì— 1ë²ˆì— ëŒ€í•œ ë¬¸ì œê°€ í•´ê²°ëœë‹¤.
ë˜í•œ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ë„ ì„œë²„ì—ì„œ í•˜ê¸° ë•Œë¬¸ì— ì´ ë˜í•œ ë¬¸ì œê°€ ë  ìƒí™©ì€ ì—†ì–´ ë³´ì¸ë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì˜ ì´ë¯¸ì§€ ìš”ì²­ ì´í›„ 2, 3, 4ë²ˆ ì˜ ì‘ë‹µì´ ëŠ¦ì–´ì§€ë©´ ëŠ¦ì–´ì§ˆ ìˆ˜ë¡ ìµœì¢… í´ë¼ì´ì–¸íŠ¸ë¡œ ê°€ëŠ” ì‘ë‹µ ì—­ì‹œ ëŠ¦ì–´ì§ˆ ìˆ˜ ë°–ì— ì—†ë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë˜ì„œ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì²˜ë¦¬ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œ í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì„ ìƒê°í•´ë³´ì•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;(2ë²ˆê³¼ 3ë²ˆì˜ ê³¼ì •ì„ ë¹„ë™ê¸° ìš”ì²­ìœ¼ë¡œ í•  ê²½ìš° ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤. í•˜ì§€ë§Œ ë¹„ë™ê¸°ëŠ” ì•„ì§ ìµìˆ™ì¹˜ ì•Šê¸° ë•Œë¬¸ì— ê·¸ë³´ë‹¤ëŠ” ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•˜ê¸°ë¡œ í–ˆë‹¤. ì¶”í›„ì— ì‹œê°„ì´ ëœë‹¤ë©´ ë¹„ë™ê¸°ì— ëŒ€í•œ ë¶€ë¶„ë„ ë‹¤ë£¨ì–´ ë³´ë„ë¡ í•˜ê² ë‹¤)&lt;/p&gt;

&lt;h3 id=&quot;ë°©ì•ˆ-2&quot;&gt;ë°©ì•ˆ 2&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/4890d484-47ca-491d-9aba-fc86dba254e8/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë°©ì•ˆ 1ì— ë¹„í•´ì„œëŠ” êµ¬ì¡°ê°€ ë³µì¡í•´ ë³´ì¸ë‹¤. S3 ì´ì™¸ì— Lambda ê°€ ì¶”ê°€ë˜ì—ˆë‹¤.
í¬ê²Œ ë‘ ê°€ì§€ì˜ FLOWê°€ ì¡´ì¬í•œë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;flow-1&quot;&gt;FLOW 1&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;í´ë¼ì´ì–¸íŠ¸ê°€ APIì„œë²„ë¡œ ì´ë¯¸ì§€ë¥¼ ì „ì†¡í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;API ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ë°›ì€ ì´ë¯¸ì§€ë¥¼ S3ì— ì—…ë¡œë“œ í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;S3ì— ì €ì¥ëœ ì´ë¯¸ì§€ URIë¥¼ ìš”ì²­ë°›ëŠ” ì»¨í…ì¸ ì™€ í•¨ê»˜ DBì— ì €ì¥í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ì €ì¥ì´ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ë¡œ ì„±ê³µ ì‘ë‹µ(200) ì„ ë³´ë‚¸ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;flow-2&quot;&gt;FLOW 2&lt;/h4&gt;
&lt;ol&gt;
  &lt;li&gt;S3ì— ì´ë¯¸ì§€ê°€ ì €ì¥ë  ê²½ìš° ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ ë‹´ë‹¹í•˜ëŠ” Lambda í•¨ìˆ˜ë¡œ Eventsë¥¼ ë³´ë‚¸ë‹¤.&lt;/li&gt;
  &lt;li&gt;Lambda í•¨ìˆ˜ëŠ” ì €ì¥ëœ S3 ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì™€ ë¦¬ì‚¬ì´ì§• ì‘ì—…ì„ í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ë¦¬ì‚¬ì´ì§• ì‘ì—…ì´ ëë‚˜ë©´ í¬ê¸°ë³„ë¡œ S3ì— ì €ì¥í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì°¸ê³ ë¡œ FLOW 1 ë²ˆê³¼ FLOW 2ì€ ë³„ê°œë¡œ ì§„í–‰ëœ
ë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ì„œë²„ëŠ” ë” ì´ìƒ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì‘ì—…ì„ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ìµœì†Œí•œ ë¦¬ì‚¬ì´ì§• ì‘ì—…ìœ¼ë¡œ ì¸í•´ ì‘ë‹µì´ ì§€ì—°ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ S3ì— ì´ë¯¸ì§€ë¥¼ ì €ì¥í•˜ëŠ” ê±´ ì—¬ì „íˆ API ì„œë²„ê°€ ë‹´ë‹¹í•˜ê³  ìˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë°©ì•ˆ-3&quot;&gt;ë°©ì•ˆ 3&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/f114ee16-fdfc-4beb-96ec-812756743cde/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/72766403-160f-42e5-aa86-53d738928f1e/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë°©ì•ˆ 2ë³´ë‹¤ í›¨ì”¬ ë³µì¡í•´ì¡Œë‹¤.&lt;/p&gt;

&lt;p&gt;ë°©ì•ˆ2ì™€ ë‹¤ë¥¸ ì ì€ ì´ë¯¸ì§€ì €ì¥ì„ ë” ì´ìƒ ì„œë²„ì—ì„œ í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  ì„œë²„ì—ì„œëŠ” ì´ë¯¸ì§€ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” Presigned URI ë¥¼ ìƒì„±í•˜ë„ë¡ S3ì— ìš”ì²­í•œë‹¤.&lt;/p&gt;

&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ Presigned URIë¥¼ ì´ìš©í•´ ì„œë²„ê°€ ì•„ë‹Œ ë°”ë¡œ S3ì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•œë‹¤. ì´í›„ S3ì— ì—…ë¡œë“œ ë˜ì–´ ì§„í–‰ë˜ëŠ” ë¦¬ì‚¬ì´ì§• ê³¼ì •ì€ Lambda ë¥¼ í†µí•´ ì´ë£¨ì–´ì§„ë‹¤. (ë°©ì•ˆ 2ì™€ ê°™ë‹¤)&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” Presigned URI ì™€ í•¨ê»˜ ì¶”ê°€ ì €ì¥í•  ì»¨í…ì¸  ì •ë³´ë¥¼ ì„œë²„ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤. ì„œë²„ëŠ” ì´ë¯¸ì§€ URI ë¥¼ ì €ì¥í•œ í›„ í´ë¼ì´ì–¸íŠ¸ë¡œ ì„±ê³µì‘ë‹µ(200)ì„ ë³´ë‚¸ë‹¤.&lt;/p&gt;

&lt;p&gt;Presigned URI ì˜ ê²½ìš° 20ë¶„ì˜ ìœ íš¨ì‹œê°„ì„ ì •í–ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;AWSPresignedUriService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AmazonS3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;AWSPresignedUriService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AmazonS3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;generatePresignedUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bucketName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filePath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
		&lt;span class=&quot;nc&quot;&gt;Calendar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calendar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;MINUTE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 20ë¶„ì˜ ìœ íš¨ì‹œê°„&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;generatePresigenedUri&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bucketName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filePath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;calendar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HttpMethod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;PUT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;20ë¶„ì˜ ìœ íš¨ì‹œê°„ì´ ëë‚˜ë©´ ë°œê¸‰ë°›ì€ Presigned URI ëŠ” ë” ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
ì´ì œ ì„œë²„ê°€ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ í•˜ëŠ” ê±´ S3ì— Presigned URI ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ìš”ì²­í•˜ëŠ” ì‘ì—…ë§Œ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì•„ì§ê¹Œì§€ ì´ë¯¸ì§€ ì²˜ë¦¬ì™€ ê´€ë ¨í•´ì„œ ì„œë²„ì—ì„œ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ Presigned URIë¥¼ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— ë²„í‚· ì´ë¦„ì´ë‚˜ íŒŒì¼ ê²½ë¡œë¥¼ ë°”ê¾¸ê¸° ìœ„í•´ì„œëŠ” ì„œë²„ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼í•˜ëŠ” ë‹¨ì ì´ ì¡´ì¬í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ ì‘ì—…ì€ ì‚¬ì‹¤ í¬ê²Œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì— ë²—ì–´ë‚˜ì§€ ì•ŠìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ìƒˆë¡œìš´ Presigend URIë¥¼ ë§Œë“¤ê¸° ìœ„í•´ API ì„œë²„ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ë°°í¬í•˜ê³  ì‹¶ì§€ëŠ” ì•Šì•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë°©ì•ˆ-4&quot;&gt;ë°©ì•ˆ 4&lt;/h3&gt;

&lt;p&gt;ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• Lambda ì™€ ë”ë¶ˆì–´ Presigned URI ë¥¼ ìƒì„±í•˜ëŠ” Lambda ë¥¼ ì¶”ê°€í•œ í›„ API Gateway ë¥¼ ë§Œë“¤ì–´ Lambda í•¨ìˆ˜ë¥¼ API í˜•íƒœë¡œ ë…¸ì¶œì‹œí‚¨ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¡œì¨ ë” ì´ìƒ API ì„œë²„ì—ì„œëŠ” ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ë” ì´ìƒ í•˜ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/d07a2405-4b82-4eea-b1d5-06c661dedea4/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/04bf8d8e-f9df-447c-9c82-cad7290956e8/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë˜í•œ API Gateway ëŠ” â€œìˆ˜ì‹ í•œ API í˜¸ì¶œ 1ë°±ë§Œ ê±´ ë¬´ë£Œâ€ ì´ê¸° ë•Œë¬¸ì— ìš°ë¦¬ í”„ë¡œì íŠ¸ì— ì‚¬ìš©í•˜ê¸°ì—ëŠ” ì¶©ë¶„í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ìƒˆë¡œìš´ Bucket ì— ëŒ€í•´ì„œ Presigned URI ì„ ìƒì„±í•˜ê³  ì‹¶ë‹¤ë©´ ì„œë²„ì½”ë“œëŠ” ì „í˜€ ê±´ë“¤ì´ì§€ ì•Šê³  Lambda í•¨ìˆ˜ë§Œ ìˆ˜ì •í•˜ë©´ ë˜ëŠ” ì¥ì ì´ ìƒê²¼ë‹¤. ì´ì œ ë” ì´ìƒ ì´ë¯¸ì§€ì™€ ê´€ë ¨ëœ ì‘ì—…ì€ API ì„œë²„ì—ì„œ ìƒê°í•˜ì§€ ì•Šì•„ë„ ë˜ì—ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ê°œë°œê³¼ì •&quot;&gt;ê°œë°œê³¼ì •&lt;/h2&gt;
&lt;h3 id=&quot;s3ì™€-cloudwatch-ì˜-ê¶Œí•œì„-ê°€ì§„-ìƒˆë¡œìš´-ì •ì±…-ìƒì„±í•˜ê¸°&quot;&gt;S3ì™€ CloudWatch ì˜ ê¶Œí•œì„ ê°€ì§„ ìƒˆë¡œìš´ ì •ì±… ìƒì„±í•˜ê¸°&lt;/h3&gt;

&lt;p&gt;ë¦¬ì‚¬ì´ì§•ì„ ë‹´ë‹¹í•˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ì™€ ì´ë¯¸ì§€ ì—…ë¡œë“œ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” Presigned URI ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” S3ì— ê¶Œí•œì´ ìˆì–´ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì„ ë‹´ë‹¹í•˜ëŠ” ëŒë‹¤ í•¨ìˆ˜ì˜ ê²½ìš° S3 ë¡œ ë¶€í„° Event ë¥¼ ë°›ì•„ S3 ì´ë¯¸ì§€ë¥¼ ì¡°íšŒí•œ í›„ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ë³„ë¡œ S3ì— ì—…ë¡œë“œ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— S3 GET, PUT ì— ëŒ€í•´ í—ˆìš©ê¶Œí•œì´ ìˆì–´ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;IAM &amp;gt; ì •ì±… &amp;gt; ì •ì±… ìƒì„± ìœ¼ë¡œ ë“¤ì–´ê°€ í•„ìš”í•œ ê¶Œí•œì„ ì„¤ì •í•´ì¤€ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/6df34801-e732-4850-80fc-993ea89c03bc/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì°¸ê³ ë¡œ Cloudwatch ì—ì„œ ëŒë‹¤ ì´ë²¤íŠ¸ì— ëŒ€í•œ ë¡œê·¸ê°€ ìˆ˜ì§‘ë  ìˆ˜ ìˆë„ë¡ í•„ìš”í•œ ê¶Œí•œ ì—­ì‹œ ì„¤ì •í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì •ì±…ì„ ìƒì„±í–ˆìœ¼ë‹ˆ ì´ì œ Role(ì—­í• )ì„ ìƒì„±í•´ì•¼í•œë‹¤. Lambda ì™€ ê°™ì€ AWS ë¦¬ì†ŒìŠ¤ì— ì¼ì‹œì ìœ¼ë¡œ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ë° Role ì„ ë¶€ì—¬í•¨ìœ¼ë¡œì¨ ê°€ëŠ¥í•˜ë‹¤. ë˜í•œ Roleì€ Policyì™€ ì—°ê²°ë˜ì–´ì•¼ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•„ìš”í•œ Lambda ê°€ ì‚¬ìš©í•  ì—­í• ì„ ë§Œë“ ë‹¤.&lt;/p&gt;

&lt;p&gt;ì—­í• ì€ IAM &amp;gt; ì—­í•  &amp;gt; ì—­í•  ìƒì„± ì— ë“¤ì–´ê°€ì„œ ë§Œë“¤ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/2e27fe29-17f8-4a57-9448-3c9b6dac53bd/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/91a23969-31e8-48a3-81a5-137622cb3931/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ê¶Œí•œ ì¶”ê°€ í•­ëª©ì—ì„œëŠ” ì•„ê¹Œ ë§Œë“  ì •ì±…(ìœ„ì˜ ìŠ¤ìƒ·ì—ì„œëŠ” ì•ˆë³´ì´ì§€ë§Œ ì •ì±…ì´ë¦„ì„ LambdaS3Policy ë¡œ í•˜ì˜€ë‹¤) ì„ íƒí•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/df398e10-c78a-4e84-8248-cfa4197b787a/image.png&quot; alt=&quot;&quot; /&gt;
ì—­í•  ì´ë¦„ì„ ë„£ê³  ì—­í• ìƒì„± ë²„íŠ¼ì„ ëˆŒëŸ¬ ì—­í• ì„ ìƒì„±í•œë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;lambda-í•¨ìˆ˜-ìƒì„±í•˜ê¸°&quot;&gt;Lambda í•¨ìˆ˜ ìƒì„±í•˜ê¸°&lt;/h3&gt;
&lt;p&gt;Lambda &amp;gt; í•¨ìˆ˜ &amp;gt; í•¨ìˆ˜ ìƒì„±ì— ë“¤ì–´ê°€ Lambda í•¨ìˆ˜ë¥¼ ìƒì„±í•œë‹¤.
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/f6fb8db0-6930-4df5-847b-3d026d1d1ea5/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/b36c9288-c795-42af-a8bf-32021ca5863d/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ë•Œ Lambda ìƒì„±ì‹œ ì‹¤í–‰ì—­í• ì„ ì•„ê¹Œ ë§Œë“¤ì—ˆë˜ LambdaS3Role ë¡œ ì„ íƒí•œë‹¤. (ë¨¼ì € Lambda ë¥¼ ë§Œë“¤ê³  ì¶”êµ¬ Lambda &amp;gt; êµ¬ì„± &amp;gt; ê¶Œí•œ &amp;gt; í¸ì§‘ í•­ëª©ì—ì„œ ì›í•˜ëŠ” ì—­í• ë¡œ ë°”ê¿€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¬´ì—‡ì„ ë¨¼ì € ë§Œë“¤ì§€ëŠ” ìƒê´€ì—†ë‹¤.)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/794873a8-723d-4e95-8c91-fa5b0e05357b/image.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/6836952d-53e1-44fd-864e-c097c8877c9c/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;ì´ë¯¸ì§€-ë¦¬ì‚¬ì´ì§•-ì½”ë“œ&quot;&gt;ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì½”ë“œ&lt;/h4&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;S3Client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;GetObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PutObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;@aws-sdk/client-s3&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Readable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;stream&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sharp&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;sharp&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;util&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;convert&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;heic-convert&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;S3Client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;region&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;ap-northeast-2&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;widths&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parseBucketInfoFromEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`Event: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;srcBucket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;srcKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;decodeURIComponent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\+&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;srcBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;srcKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;dstBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;srcBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;-resized`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;srcKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.jpg`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Fetch object from S3&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GetObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ContentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`ContentType: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Body&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Readable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Expected a stream in the response body&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`Error fetching object &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; from bucket &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;verifyImageType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;isImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`not support contentType = &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; / dstKey = &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processAndUploadImages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;dstBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ContentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentBuffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;toArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;

  &lt;span class=&quot;nf&quot;&gt;verifyImageType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;widths&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;processedImageBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// HEIC ì´ë¯¸ì§€ì˜ ê²½ìš° ë³€í™˜ ì²˜ë¦¬&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;image/heic&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;heic file&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;convertedBuffer&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;convertHeicToJpeg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;processedImageBuffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;resizeImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;convertedBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;processedImageBuffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;resizeImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;contentBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;uploadResizedImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dstBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;processedImageBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// HEIC ì´ë¯¸ì§€ë¥¼ JPEGë¡œ ë³€í™˜&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;convertHeicToJpeg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// HEIC íŒŒì¼ì˜ Buffer&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;JPEG&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// HEIC to JPEG&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;quality&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// í’ˆì§ˆ ì„¤ì • (0 ~ 1)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Error converting HEIC to JPEG:&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Resize image&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;resizeImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sharp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;resize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;contain&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// height ëŠ” width ì— ìë™ì ìœ¼ë¡œ ë§ì¶°ì§&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;jpeg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;quality&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// í€„ë¦¬í‹° ( 0 ~ 100 )&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withMetadata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì›ë³¸ metadata ê·¸ëŒ€ë¡œ ê°€ì§€ë„ë¡ í•¨&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;toBuffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Error resizing image:&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Upload resized image to S3&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;uploadResizedImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;Body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;ContentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;image/jpeg&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PutObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`Successfully uploaded &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; to &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`Error uploading &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; to &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;:`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;isImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;contentType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;startsWith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;image/&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Lambda handler function&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ì´ë²¤íŠ¸ ì²˜ë¦¬ ì¤‘ ... :&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;util&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;inspect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;depth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;srcBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;srcKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dstBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;parseBucketInfoFromEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fetchObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;srcBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;srcKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;processAndUploadImages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dstBucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dstKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ì˜ì¡´ì´ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ì€ npm build ë¥¼ í†µí•´ ì„¤ì¹˜í•œ í›„ zip íŒŒì¼ë¡œ ì••ì¶•í•˜ì—¬ ì—…ë¡œë“œ í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì½”ë“œë¥¼ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ë©´&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;parseBucketInfoFromEvent(event) : ìˆ˜ì‹ ê´¸ S3 Events ë¡œ ë¶€í„° í•„ìš”í•œ ì •ë³´ë¥¼ íŒŒì‹±(í‚¤, ë²„í‚·ì´ë¦„)&lt;/li&gt;
  &lt;li&gt;fetchObject(bucket, key): ë²„í‚·ì´ë¦„ì™€ í‚¤ë¥¼ ì´ìš©í•˜ì—¬ S3ì— ë°©ê¸‰ ì €ì¥ëœ ì´ë¯¸ì§€ë¥¼ ì¡°íšŒ&lt;/li&gt;
  &lt;li&gt;processAndUploadImages(dstBucket, dstKey, response) : ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ë¥¼ í¬ê¸°ë³„(80, 500)ë¡œ ë¦¬ì‚¬ì´ì§• í•œ í›„ S3ì— ì—…ë¡œë“œ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;sharp ëŠ” ì´ë¯¸ì§€ í¬ë§· ë³€í™˜ì„ ì§€ì›í•œë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ HEIC í¬ë©§ì˜ ì´ë¯¸ì§€íŒŒì¼ì¸ ê²½ìš° Nokiaì˜ HEIF ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¼ì´ì„¼ìŠ¤ë¡œ ì¸í•´ Sharpë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ libheif, libde265 ë° x265ë¥¼ ì§€ì›í•˜ë„ë¡ ì»´íŒŒì¼ëœ ì „ì—­ ì„¤ì¹˜ libvipsë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³  í•œë‹¤. ê´€ë ¨í•´ì„œ í•´ê²°í•œ &lt;a href=&quot;https://obviy.us/blog/sharp-heic-on-aws-lambda/&quot;&gt;ë¸”ë¡œê·¸&lt;/a&gt;ë„ ì¡´ì¬í•˜ì§€ë§Œ, ë‚˜ëŠ” ë³„ë„ë¡œ HEIC ë¥¼ JPG ë¡œ ë°”ê¾¸ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¶”ê°€í•˜ì—¬ í•´ê²°í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¡°íšŒí•œ ì´ë¯¸ì§€ì˜ response.ContentType ì˜ ê²½ìš°ê°€ â€œimage/heicâ€ ì¸ ê²½ìš°ì—ëŠ” jpg ë¡œ ë³€í™˜ í›„ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§• ì‘ì—…ì„ í•˜ë„ë¡ í–ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ì—…ë¡œë“œ-ìš©-presigneduri-ìƒì„±-ì½”ë“œ&quot;&gt;ì—…ë¡œë“œ ìš© PresignedURI ìƒì„± ì½”ë“œ&lt;/h4&gt;
&lt;p&gt;ë˜ ë‹¤ë¥¸ ëŒë‹¤í•¨ìˆ˜ë¥¼ ë§Œë“¤ê³  ì•„ë˜ì˜ ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤. ë§Œë“¤ ë•Œ ì—­í• ì€ ìœ„ì—ì„œ ë§Œë“  ì—­í•  ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì˜€ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PutObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S3Client&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;@aws-sdk/client-s3&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getSignedUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S3RequestPresigner&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;@aws-sdk/s3-request-presigner&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;randomUUID&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;crypto&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;REGION&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ë¦¬ì „&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BUCKET&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ë²„í‚·ì´ë¦„&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;createPresignedUrlWithClient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;region&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;client&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;S3Client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;region&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;PutObjectCommand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;Bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;Key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getSignedUrl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;expiresIn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;360000&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;handler&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;clientUrl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;createPresignedUrlWithClient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;region&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;REGION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;bucket&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;BUCKET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;randomUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;SUCCESS&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;clientUrl&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì—…ë¡œë“œìš© PresignedURI ì˜ ê²½ìš°, ë°©ì•ˆ4 ì— ë‚˜ì˜¨ êµ¬ì¡°ì—ì„œ ë³´ë“¯ì´ API Gateway ë¡œ ìš”ì²­ì´ ì˜¨ í›„ ì—°ê²°ëœ Lambda í•¨ìˆ˜ì—ì„œ ì‘ë‹µí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìƒì„±ëœ presignedUri ë¥¼ ë¦¬í„´í•˜ê³  ìˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;api-gateway&quot;&gt;API Gateway&lt;/h3&gt;

&lt;p&gt;ì´ì œ PresignedURI ë§Œë“œëŠ” ëŒë‹¤í•¨ìˆ˜ë¥¼ API ë¡œ ë…¸ì¶œì‹œí‚¤ê¸° ìœ„í•´ ë¨¼ì € API Gatewayë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.&lt;/p&gt;

&lt;p&gt;API Gateway ìƒì„±
HTTP API ì„ íƒ
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/8720a760-672f-406d-96f8-142b14060b4c/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ë•Œ API Gatewayê°€ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼í•˜ê¸° ë•Œë¬¸ì—, ì•„ê¹Œ ë§Œë“  Lambda í•¨ìˆ˜ë¥¼ ì§€ì •í•œë‹¤.
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/6af2f1af-ed04-485e-a132-796eea77994d/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë‹¤ìŒë²„íŠ¼ì„ ëˆŒëŸ¬ ê³„ì† ì§„í–‰í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/ba8f6638-5da9-4c65-b175-7cfe780e6974/image.png&quot; alt=&quot;&quot; /&gt;
ì—¬ê¸°ì„œ API Gatewayì˜ ë©”ì„œë“œì™€ ê²½ë¡œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ë§Œë“¤ê³  ë‚˜ì„œ ìˆ˜ì •í•´ë„ ìƒê´€ì—†ë‹¤. ë‚˜ëŠ” â€œGET /image/presigned-uriâ€ ìœ¼ë¡œ ê²½ë¡œë¥¼ ì„¤ì •í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/6ff57e71-e3d7-4fe1-b3a9-a66de61d4e76/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë§ˆì§€ë§‰ìœ¼ë¡œ ìŠ¤í…Œì´ì§€ê¹Œë¥¼ ì •ì˜í•œë‹¤. ì´ëŠ” ë§ê·¸ëŒ€ë¡œ ìŠ¤í…Œì´ì§€ í™˜ê²½ì„ ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©° API ìŠ¤í…Œì´ì§€ëŠ” API ID ë° ìŠ¤í…Œì´ì§€ ì´ë¦„ìœ¼ë¡œ ì‹ë³„ë˜ë©°, APIë¥¼ í˜¸ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” URLì— í¬í•¨ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;HTTP URIì— ìŠ¤í…Œì´ì§€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì„±í•˜ëŠ” ìì„¸í•œ ì‚¬ìš©ë²•ì€ https://docs.aws.amazon.com/ko_kr/apigateway/latest/developerguide/http-api-stages.html ì— ìˆìœ¼ë‹ˆ ì°¸ê³ ë°”ë€ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/3de90052-9fde-40b1-b480-01b40cfde42f/image.png&quot; alt=&quot;&quot; /&gt;
ìƒˆë¡­ê²Œ ìƒì„±í•œ APIë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ì¢€ ì „ì— dev ë¼ëŠ” ì´ë¦„ì˜ ìŠ¤í…Œì´ì§€ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ìŠ¤í…Œì´ì§€ì˜ ê²½ìš°ì—ëŠ” í˜„ì¬ ìë™ë°°í¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë§Œì•½ dev ìŠ¤í…Œì´ì§€ì—ë„ ë°°í¬ë¥¼ ì›í•œë‹¤ë©´ ìš°ì¸¡ ìƒë‹¨ì— ìˆëŠ” ë°°í¬ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë°°í¬ë¥¼ ì§„í–‰í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ ì•„ë˜ì˜ ê²½ë¡œë¡œ API í˜¸ì¶œì„ í•˜ë©´
https://{app_id}.execute-api.ap-northeast-2.amazonaws.com/image/presigned-uri&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/5af90a8a-ec1f-4ad3-9daa-9247135ccd62/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Presigned URI ë¥¼ ë°›ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë²ˆì™¸-api-gateway-ì‚¬ìš©ì-ì§€ì •-ë„ë©”ì¸-ì„¤ì •í•˜ê¸°&quot;&gt;ë²ˆì™¸, API Gateway ì‚¬ìš©ì ì§€ì • ë„ë©”ì¸ ì„¤ì •í•˜ê¸°&lt;/h3&gt;
&lt;p&gt;AWS ì—ì„œ ì œê³µí•˜ëŠ” URI ì£¼ì†Œ ë§ê³  ì‚¬ìš©ì ì§€ì • ë„ë©”ì¸ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì¬ itthatcat.xyz ë„ë©”ì¸ì„ ê°€ë¹„ì•„ ë„¤ì„ì„œë²„ì— ë“±ë¡í•´ë†“ì€ ìƒíƒœì´ê³  ì™€ì¼ë“œ ì¹´ë“œ ì¸ì¦ì„œë¥¼ LetsEncrypted ë¥¼ í†µí•´ ë¬´ë£Œë¡œ ë°œê¸‰í•œ ìƒíƒœì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ img.itthatcat.xyz ì˜ ìƒˆë¡œìš´ ì„œë¸Œë„ë©”ì¸ì„ ì„¤ì •í•´ë³´ì.
https://{app_id}.execute-api.ap-northeast-2.amazonaws.com/image/presigned-uri ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì•„ë‹Œ
https://img.itthatcat.xyz/image/presigned-uri ë¡œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•˜ì&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/a9232828-2798-4a3b-96f3-f8a25644cf16/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë„ë©”ì¸ ì´ë¦„ì—ëŠ” ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ë„ë©”ì¸ ì´ë¦„ì„ ì…ë ¥í•œë‹¤. (ë‹¹ì—°íˆ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ë„ë©”ì¸ì— ëŒ€í•´ì„œ êµ¬ì…ì´ ì™„ë£Œë˜ì–´ì•¼ í•œë‹¤.)
ê·¸ë¦¬ê³  í•´ë‹¹ ë„ë©”ì¸ì— ëŒ€í•´ ë°œê¸‰í•œ ì¸ì¦ì„œê°€ í•„ìš”í•˜ë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ì‚¬ìš©í•˜ë ¤ê³ -í•˜ëŠ”-ë„ë©”ì¸ì—-acm-ssl-ì¸ì¦ì„œ-ë°œê¸‰ë°›ê¸°-with-awsê°€-ì•„ë‹Œ-ë‹¤ë¥¸-ë„¤ì„ì„œë²„-ì‚¬ìš©ì¤‘&quot;&gt;ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ” ë„ë©”ì¸ì— ACM SSL ì¸ì¦ì„œ ë°œê¸‰ë°›ê¸° with AWSê°€ ì•„ë‹Œ ë‹¤ë¥¸ ë„¤ì„ì„œë²„ ì‚¬ìš©ì¤‘&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/b8530417-8bd5-45a2-ab68-f65d8b0bfac3/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì¸ì¦ì„œì˜ ê²½ìš° ì´ë¯¸ ë§Œë“  ì¸ì¦ì„œë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•´ë„ ì¢‹ì§€ë§Œ, ë‚˜ëŠ” í•´ë‹¹ ë„ë©”ì¸ì— ëŒ€í•´ì„œëŠ” ìƒˆë¡­ê²Œ SSL ì¸ì¦ì„œë¥¼ ë§Œë“¤ê¸°ë¡œ í–ˆë‹¤. ì¸ì¦ì„œê°€ ì—¬ëŸ¬ê°œë¡œ ë¶„ì‚°ë˜ì–´ ê´€ë¦¬ì˜ í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚œ ë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, AWS ACMì—ì„œ ë§Œë“  ì¸ì¦ì„œì˜ ê²½ìš° ì¸ì¦ì„œì˜ ê°±ì‹ ì„ ìë™í™”í•  ìˆ˜ ìˆê³  ë¬´ë£Œì´ë‹¤. ë¬¼ë¡  ì›í•œë‹¤ë©´ ì™¸ë¶€ì—ì„œ ì‚¬ìš©ëœ ì¸ì¦ì„œë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ ì™¸ë¶€ì˜ ì¸ì¦ì„œì˜ ê²½ìš° ë§Œë£Œë˜ì—ˆì„ ê²½ìš° ê°±ì‹ ì— ëŒ€í•œ ë¡œì§ì€ ëŒ€ì‹ í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤.
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/3f3e7209-5812-432f-9911-68567fcabb32/image.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/2b10859e-4163-40a9-a015-fcaf4f7daf4a/image.png&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/96c9f5e4-61a9-4753-810c-85f1404c4667/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/9e559799-443f-4c9f-a016-3acfb5a76bc0/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì´ì œ ë„¤ì„ ì„œë²„ì— CNAME ë ˆì½”ë“œë¥¼ ë§Œë“¤ë©´ ëœë‹¤. ì´ë¥¼ í†µí•´ DNS ê²€ì¦ì„ ë°›ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë•Œ CNAME ë ˆì½”ë“œ ë“±ë¡ì‹œ í˜¸ìŠ¤íŠ¸ì—ëŠ” _21jkddfu2j.img.itthatcat.xyz. ì—ì„œ í˜¸ìŠ¤íŠ¸ ì´ë¦„ì¸ _21jkddfu2j.img ê¹Œì§€ë§Œ ì…ë ¥í•´ì•¼í•œë‹¤. ê·¸ ì™¸ëŠ” ê·¸ëŒ€ë¡œ ì…ë ¥í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/f453b237-a6c3-4daa-b9f3-6471e7ae87f8/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ì„œë¸Œë„ë©”ì¸ì´ ì•„ë‹Œê²½ìš°ë¼ë©´
_21jkddfu2j.itthatcat.xyz. ìš”ë ‡ê²Œ ë ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  CNAME ë ˆì½”ë“œ í˜¸ìŠ¤íŠ¸ëŠ” _21jkddfu2j ì…ë ¥í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/737faa86-0b53-4f58-b85f-5aacd5288ad2/image.png&quot; alt=&quot;&quot; /&gt;
ì–´ëŠ ì •ë„ ì‹œê°„ì´ ì§€ë‚˜ë©´ ì´ë ‡ê²Œ â€œê²€ì¦ ëŒ€ê¸°ì¤‘â€ì—ì„œ â€œë°œê¸‰â€ ìƒíƒœë¡œ ë°”ë€ ê²ƒì„ ì•Œ ìˆ˜ìˆë‹¤.(CNAME ë ˆì½”ë“œë¥¼ ì¶”ê°€í•˜ê³  10ë¶„ ë‚´ë¡œ ë°œê¸‰ë˜ì—ˆë‹¤)&lt;/p&gt;

&lt;h4 id=&quot;ì‚¬ìš©ìì§€ì •-ë„ë©”ì¸-ë“±ë¡í•˜ê¸°&quot;&gt;ì‚¬ìš©ìì§€ì • ë„ë©”ì¸ ë“±ë¡í•˜ê¸°&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/d8a9553f-3e64-4bc4-9c0b-b3c2fd0ac836/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì‚¬ìš©í•˜ë ¤ê³  í•˜ëŠ” ë„ë©”ì¸ ì´ë¦„ê³¼ ë°œê¸‰ë°›ì€ ACM ì¸ì¦ì„œë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ì‚¬ìš©ì-ì§€ì •-ë„ë©”ì¸ì™€-api-gateway-ë§¤í•‘í•˜ê¸°&quot;&gt;ì‚¬ìš©ì ì§€ì • ë„ë©”ì¸ì™€ API Gateway ë§¤í•‘í•˜ê¸°&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/30042006-107c-4c1f-9ec7-04a489474dd3/image.png&quot; alt=&quot;&quot; /&gt;
ì´ë ‡ê²Œ ì‚¬ìš©ì ì§€ì • ë„ë©”ì¸ì— ëŒ€í•´ ìƒˆë¡œìš´ API Gateway ë„ë©”ì¸ ì´ë¦„ì´ ìƒê²¼ë‹¤.
ì´ì œ ë‹¤ì‹œ ê°€ë¹„ì•„ë¡œ ëŒì•„ì™€ì„œ DNS ë ˆì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤. CNAME ë ˆì½”ë“œë¥¼ ì¶”ê°€í•˜ì—¬ img.itthatcat.xyz ë¡œ ì ‘ì†í–ˆì„ ë•Œ ìœ„ì˜ ê°€ë ¤ì§„ ë„ë©”ì¸ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ í•´ì•¼í•œë‹¤.
&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/335b9fab-2683-42da-80ec-30db8a26c71a/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/a55aad24-b12c-4d93-a321-ae55a0e7949e/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/3df73ed4-3727-46a0-bbda-03a9709f7cad/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë§¤í•‘í•˜ë ¤ê³  í•˜ëŠ” API ë¥¼ ì„ íƒí•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;https://img.itthatcat.xyz/image/presigned-uri&lt;/code&gt; ë¡œ ìš”ì²­í•´ë³´ì.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/d970e2c1-7162-44db-9cc8-93065eeb9f67/image.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ì •ìƒì ìœ¼ë¡œ ë°ì´í„°ê°€ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ë²ˆì™¸&quot;&gt;ë²ˆì™¸&lt;/h4&gt;
&lt;p&gt;í˜„ì¬ëŠ” API Gateway ì•ë‹¨ì— Cloudfront ë¥¼ êµ¬ì„±í•œ í›„ Cloudfront -&amp;gt; API Gateway -&amp;gt; Lambda ë¡œ í˜¸ì¶œí•˜ë„ë¡ êµ¬ì„±í•œ ìƒíƒœì´ë‹¤.
Cloudfront ì—­ì‹œ API Gateway ì™€ ë§ˆì°¬ê°€ì§€ë¡œ AWS ì—ì„œ ì œê³µí•˜ëŠ” ë„ë©”ì¸ ì´ë¦„ì´ ì•„ë‹Œ ìƒˆë¡­ê²Œ ì»¤ìŠ¤í…€ ë„ë©”ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©° SSL ì¸ì¦ì„œ ì ìš©í•˜ëŠ” ë°©ì‹ë„ ê°™ë‹¤.&lt;/p&gt;

&lt;hr /&gt;
&lt;h3 id=&quot;ì°¸ê³ &quot;&gt;ì°¸ê³ &lt;/h3&gt;
&lt;p&gt;https://obviy.us/blog/sharp-heic-on-aws-lambda/
https://docs.aws.amazon.com/ko_kr/acm/latest/userguide/troubleshooting-DNS-validation.html&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Javaì˜ finalì€ ì–´ë””ì— ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?</title>
   <link href="http://localhost:4000/2024/01/07/java-%EC%9D%98-final-%EC%9D%80-%EC%96%B4%EB%94%94%EC%97%90-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EC%9D%84%EA%B9%8C"/>
   <updated>2024-01-07T00:00:00+09:00</updated>
   <id>http://localhost:4000/2024/01/07/Java ì˜ final ì€ ì–´ë””ì— ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œ?</id>
   <content type="html">&lt;h1 id=&quot;java-final-í‚¤ì›Œë“œ-ì™„ë²½-ì •ë³µ&quot;&gt;Java &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œ ì™„ë²½ ì •ë³µ&lt;/h1&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì˜ˆì œì—ì„œ ì‚¬ìš©í•œ ëª¨ë“  ì½”ë“œëŠ” &lt;a href=&quot;https://github.com/kmss6905/blog/tree/main/_20240107&quot;&gt;Github Repository&lt;/a&gt; ì— ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œëŠ” ì£¼ë¡œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ì „ì—­ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê±°ë‚˜ ìƒì„±ìì˜ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ì€ ì´ë³´ë‹¤ ë” ë‹¤ì–‘í•œ ê³³ì—ì„œ í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸€ì—ì„œëŠ” &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œì˜ ë‹¤ì–‘í•œ ì‚¬ìš©ë²•ì„ ìì„¸íˆ ì•Œì•„ë³´ê³ , ì˜ˆì œë¥¼ í†µí•´ ì‹¤ì œ í™œìš© ë°©ë²•ì„ ì‚´í´ë´…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;final-í‚¤ì›Œë“œ-ì‚¬ìš©ë²•&quot;&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œ ì‚¬ìš©ë²•&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œëŠ” í¬ê²Œ &lt;strong&gt;í´ë˜ìŠ¤&lt;/strong&gt;, &lt;strong&gt;ë©”ì„œë“œ&lt;/strong&gt;, &lt;strong&gt;ë³€ìˆ˜&lt;/strong&gt; ì„¸ ê°€ì§€ ëŒ€ìƒì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;1-final-í´ë˜ìŠ¤-ìƒì†ì„-ë§‰ëŠ”-ë§ˆì§€ë§‰-ë³´ë£¨&quot;&gt;1. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í´ë˜ìŠ¤: ìƒì†ì„ ë§‰ëŠ” ë§ˆì§€ë§‰ ë³´ë£¨&lt;/h3&gt;

&lt;p&gt;í´ë˜ìŠ¤ì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ í´ë˜ìŠ¤ëŠ” ë” ì´ìƒ ìƒì†í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” í´ë˜ìŠ¤ì˜ í™•ì¥ì„ ì›í•˜ì§€ ì•Šì„ ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// standard getter and setter&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BlackCat&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì»´íŒŒì¼ ì—ëŸ¬!&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/f64a3029-421e-4add-b1b8-1427671ce17e/image.png&quot; alt=&quot;final í´ë˜ìŠ¤ ìƒì† ë¶ˆê°€&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì£¼ì˜í•  ì :&lt;/strong&gt; &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í´ë˜ìŠ¤ê°€ ë¶ˆë³€(immutable) ê°ì²´ë¥¼ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. í´ë˜ìŠ¤ ë‚´ë¶€ì˜ ë©¤ë²„ ë³€ìˆ˜ëŠ” ì–¼ë§ˆë“ ì§€ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ClassFinalMainTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@DisplayName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;final í´ë˜ìŠ¤ì˜ ë§´ë²„ë³€ìˆ˜ëŠ” ë°”ê¿€ ìˆ˜ ìˆë‹¤.&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mainTest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Money&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;assertEquals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertDoesNotThrow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì˜ˆì™¸ë°œìƒí•˜ì§€ ì•ŠìŒ.&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;assertEquals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;money&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Money&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/8e6d87d9-fa5f-4015-9a64-751f5f184dc7/image.png&quot; alt=&quot;final í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸ ê²°ê³¼&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; IntelliJ IDEAì—ì„œëŠ” &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í´ë˜ìŠ¤ì— â€œì••ì •â€ ì•„ì´ì½˜ì„ í‘œì‹œí•˜ì—¬ ìƒì†í•  ìˆ˜ ì—†ìŒì„ ì‹œê°ì ìœ¼ë¡œ ì•Œë ¤ì¤ë‹ˆë‹¤.&lt;/p&gt;

  &lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/83e18ef2-ee70-4c65-af5a-07c36acbf096/image.png&quot; alt=&quot;IntelliJ final í´ë˜ìŠ¤ í‘œì‹œ&quot; /&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;2-final-ë©”ì„œë“œ-ì˜¤ë²„ë¼ì´ë”©-ê¸ˆì§€&quot;&gt;2. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë©”ì„œë“œ: ì˜¤ë²„ë¼ì´ë”© ê¸ˆì§€&lt;/h3&gt;

&lt;p&gt;ë©”ì„œë“œì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ë©”ì„œë“œëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©(ì¬ì •ì˜)í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ë¶€ëª¨ í´ë˜ìŠ¤&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;meow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ëˆ„êµ¬ë‚˜ ì•¼ì˜¹~&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;finalMeow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë‚˜ë§Œ ì•¼ì˜¹~&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;privateMeow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ë‚´ë¶€ ì•¼ì˜¹~&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ìì‹ í´ë˜ìŠ¤&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;WhiteCat&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@Override&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;meow&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;í° ê³ ì–‘ì´ ì•¼ì˜¹&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c1&quot;&gt;// finalMeow() ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í•˜ë ¤ê³  í•˜ë©´ ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ!&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// @Override&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// public void finalMeow() { ... }&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§Œì•½ ìì‹ í´ë˜ìŠ¤ì—ì„œ ë¶€ëª¨ì˜ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ë ¤ê³  í•˜ë©´ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;&apos;finalMeow()&apos; cannot override &apos;finalMeow()&apos; in &apos;Cat&apos;; overridden method is final&lt;/code&gt; ì™€ ê°™ì€ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/b3686362-1048-4d20-a745-d13bd812a7a7/image.png&quot; alt=&quot;final ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”© ë¶ˆê°€&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;3-final-ë³€ìˆ˜-ì¬í• ë‹¹ì€-ì´ì œ-ê·¸ë§Œ&quot;&gt;3. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë³€ìˆ˜: ì¬í• ë‹¹ì€ ì´ì œ ê·¸ë§Œ&lt;/h3&gt;

&lt;p&gt;ë³€ìˆ˜ì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ &lt;strong&gt;í•œ ë²ˆë§Œ ê°’ì„ í• ë‹¹&lt;/strong&gt;í•  ìˆ˜ ìˆìœ¼ë©°, ì´í›„ì—ëŠ” ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;31-ì›ì‹œ-ë³€ìˆ˜-primitive-variables&quot;&gt;3.1. ì›ì‹œ ë³€ìˆ˜ (Primitive Variables)&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ë¡œ ì„ ì–¸ëœ ì›ì‹œ ë³€ìˆ˜ëŠ” ì´ˆê¸°í™” ì´í›„ ë‹¤ë¥¸ ê°’ì„ í• ë‹¹í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì»´íŒŒì¼ ì—ëŸ¬!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/2317ff3d-d4a3-4ade-8361-fdd4b990c068/image.png&quot; alt=&quot;final ì›ì‹œ ë³€ìˆ˜ ì¬í• ë‹¹ ë¶ˆê°€&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;32-ì°¸ì¡°-ë³€ìˆ˜-reference-variables&quot;&gt;3.2. ì°¸ì¡° ë³€ìˆ˜ (Reference Variables)&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ë¡œ ì„ ì–¸ëœ ì°¸ì¡° ë³€ìˆ˜ëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ë„ë¡ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jimin&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;junguk&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì»´íŒŒì¼ ì—ëŸ¬!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/19979a37-0fa3-470d-87b9-57d5d877ebfd/image.png&quot; alt=&quot;final ì°¸ì¡° ë³€ìˆ˜ ì¬í• ë‹¹ ë¶ˆê°€&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì¤‘ìš”:&lt;/strong&gt; ì°¸ì¡° ë³€ìˆ˜ ìì²´ê°€ ë‹¤ë¥¸ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ì§€ë§Œ, ì°¸ì¡°í•˜ê³  ìˆëŠ” &lt;strong&gt;ê°ì²´ì˜ ë‚´ë¶€ ìƒíƒœ(ë©¤ë²„ ë³€ìˆ˜)ëŠ” ë³€ê²½ ê°€ëŠ¥&lt;/strong&gt;í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;XXXclass&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;XXXClass&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xxxClass&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;XXXClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;xxxClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ìˆ˜ì • ê°€ëŠ¥!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;33-í•„ë“œ-fields&quot;&gt;3.3. í•„ë“œ (Fields)&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ì€ í´ë˜ìŠ¤ì˜ í•„ë“œì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì£¼ë¡œ ìƒìˆ˜(constant)ë¥¼ ì •ì˜í•˜ê±°ë‚˜, ìƒì„±ìì—ì„œ ì´ˆê¸°í™”ë˜ëŠ” ë©¤ë²„ ë³€ìˆ˜ì— ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ìƒìˆ˜ í•„ë“œ:&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Point&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;double&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;GLOBAL_POINT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;10.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;changePointToTenDotOne&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// GLOBAL_POINT = 10.1; // ì»´íŒŒì¼ ì—ëŸ¬!&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/776c5300-0757-485a-81b6-0ab61176fdc8/image.png&quot; alt=&quot;final ìƒìˆ˜ í•„ë“œ ì¬í• ë‹¹ ë¶ˆê°€&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ìƒì„±ì ë©¤ë²„ ë³€ìˆ˜:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ë¡œ ì„ ì–¸ëœ ë©¤ë²„ ë³€ìˆ˜ëŠ” ìƒì„±ì ë‚´ì—ì„œ ë°˜ë“œì‹œ ì´ˆê¸°í™”ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ê°ì²´ì˜ ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê³ , &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;NullPointerException&lt;/code&gt;ê³¼ ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;OrderService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ProductRepository&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// final í‚¤ì›Œë“œ ì¶”ê°€&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;OrderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;ProductRepository&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;productRepository&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ìƒì„±ìì—ì„œ ë°˜ë“œì‹œ ì´ˆê¸°í™”&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nc&quot;&gt;Product&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;productRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// etc&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë§Œì•½ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë©¤ë²„ ë³€ìˆ˜ë¥¼ ìƒì„±ìì—ì„œ ì´ˆê¸°í™”í•˜ì§€ ì•Šìœ¼ë©´, ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ì—¬ ì‹¤ìˆ˜ë¥¼ ë¯¸ë¦¬ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://velog.velcdn.com/images/kmss6905/post/d9b47b0f-1888-4624-869b-4b3c51f67244/image.png&quot; alt=&quot;final ë©¤ë²„ ë³€ìˆ˜ ì´ˆê¸°í™” ê°•ì œ&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;34-ë©”ì„œë“œ-ì¸ì-argument-variables&quot;&gt;3.4. ë©”ì„œë“œ ì¸ì (Argument Variables)&lt;/h4&gt;

&lt;p&gt;ë©”ì„œë“œì˜ ì¸ìì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ë©”ì„œë“œ ë‚´ë¶€ì—ì„œ í•´ë‹¹ ì¸ìì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-java highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;syntax&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;plus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// a += b; // ì»´íŒŒì¼ ì—ëŸ¬!&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ìš”ì•½&quot;&gt;ìš”ì•½&lt;/h2&gt;

&lt;p&gt;Javaì˜ &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œëŠ” &lt;strong&gt;í´ë˜ìŠ¤, ë©”ì„œë“œ, ë³€ìˆ˜&lt;/strong&gt;ì— ì‚¬ìš©í•˜ì—¬ &lt;strong&gt;ì¬í• ë‹¹ì„ ë°©ì§€&lt;/strong&gt;í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í´ë˜ìŠ¤:&lt;/strong&gt; ìƒì† ë¶ˆê°€&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë©”ì„œë“œ:&lt;/strong&gt; ì˜¤ë²„ë¼ì´ë”© ë¶ˆê°€&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; ë³€ìˆ˜:&lt;/strong&gt; ì¬í• ë‹¹ ë¶ˆê°€&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;íŠ¹íˆ ìƒì„±ìì˜ ë©¤ë²„ ë³€ìˆ˜ì— &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt;ì„ ì‚¬ìš©í•˜ë©´, ê°ì²´ ìƒì„± ì‹œì ì— í•´ë‹¹ ë³€ìˆ˜ê°€ ë°˜ë“œì‹œ ì´ˆê¸°í™”ë˜ë„ë¡ ê°•ì œí•˜ì—¬ ì½”ë“œì˜ ì•ˆì •ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. &lt;code class=&quot;language-html highlighter-rouge&quot;&gt;final&lt;/code&gt; í‚¤ì›Œë“œë¥¼ ì ì¬ì ì†Œì— í™œìš©í•˜ì—¬ ë” ê²¬ê³ í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì„¸ìš”.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;ì°¸ì¡°&quot;&gt;ì°¸ì¡°&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.baeldung.com/java-final&quot;&gt;Baeldung - The final Keyword in Java&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 

</feed>
